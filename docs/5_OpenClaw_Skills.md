# OpenClaw Skill å¼€å‘æŒ‡å—ï¼šAI èƒ½åŠ›æ— é™æ‰©å±•

> æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç» OpenClaw çš„ Skill ç³»ç»Ÿâ€”â€”å¦‚ä½•ç”¨ Markdown + Shell è„šæœ¬ç»™ AI å¢åŠ å…¨æ–°èƒ½åŠ›ã€‚
>
> è¿”å› [é¡¹ç›®æ€»è§ˆ](../README.md) | ç›¸å…³æ–‡æ¡£ï¼š[Workspace è‡ªå®šä¹‰æŒ‡å—](./4_OpenClaw_Workspace.md)

---

## ç›®å½•

- [1. Skill ç³»ç»Ÿæ¦‚è¿°](#1-skill-ç³»ç»Ÿæ¦‚è¿°)
  - [1.1 ä»€ä¹ˆæ˜¯ Skill](#11-ä»€ä¹ˆæ˜¯-skill)
  - [1.2 å·¥ä½œåŸç†](#12-å·¥ä½œåŸç†)
  - [1.3 å¼€å‘æµç¨‹](#13-å¼€å‘æµç¨‹)
- [2. å®æˆ˜æ¡ˆä¾‹ä¸æ€»è§ˆ](#2-å®æˆ˜æ¡ˆä¾‹ä¸æ€»è§ˆ)
  - [2.1 Skill æ€»è§ˆ](#21-skill-æ€»è§ˆ)
  - [2.2 system_info Skill](#22-system_info-skill)
  - [2.3 weather Skill](#23-weather-skill)
  - [2.4 personal_info Skill](#24-personal_info-skill)
  - [2.5 nas_search Skill](#25-nas_search-skill)
  - [2.6 bilibili_summary Skill](#26-bilibili_summary-skill)
  - [2.7 qwen_usage Skill](#27-qwen_usage-skill)
- [3. æ›´å¤š Skill æ€è·¯](#3-æ›´å¤š-skill-æ€è·¯)

---

## 1. Skill ç³»ç»Ÿæ¦‚è¿°

### 1.1 ä»€ä¹ˆæ˜¯ Skill

**Skill ç³»ç»Ÿæ˜¯ OpenClaw çš„æ€æ‰‹çº§ç‰¹æ€§ã€‚** ä¸€ä¸ª Markdown æ–‡ä»¶ + ä¸€ä¸ª Shell è„šæœ¬ï¼Œå°±èƒ½ç»™ AI å¢åŠ ä¸€ç§å…¨æ–°èƒ½åŠ›â€”â€”ä¸éœ€è¦æ”¹ä¸€è¡Œ OpenClaw æºç ã€‚

æ¯ä¸ª Skill ä¸€ä¸ªå­ç›®å½•ï¼Œå­˜æ”¾åœ¨ `~/.openclaw/skills/` ä¸‹ï¼š

```
~/.openclaw/skills/
â”œâ”€â”€ system_info/          # Skill 1
â”‚   â”œâ”€â”€ SKILL.md          # è§¦å‘æ¡ä»¶ + ä½¿ç”¨è¯´æ˜
â”‚   â””â”€â”€ gather_info.sh    # æ‰§è¡Œè„šæœ¬
â””â”€â”€ weather/              # Skill 2
    â”œâ”€â”€ SKILL.md
    â”œâ”€â”€ get_weather.sh
    â””â”€â”€ weather_feishu_push.sh
```

### 1.2 å·¥ä½œåŸç†

```mermaid
flowchart LR
    A["ğŸ§‘ ç”¨æˆ·æé—®<br/>ç”µè„‘ä»€ä¹ˆç‰Œå­ï¼Ÿ"] --> B["ğŸ” OpenClaw<br/>åŒ¹é… Skill æè¿°"]
    B --> C["ğŸ“– AI è¯»å–<br/>SKILL.md"]
    C --> D["âš¡ AI è°ƒç”¨ exec<br/>æ‰§è¡Œ bash å‘½ä»¤"]
    D --> E["ğŸ“Š è¿”å›çœŸå®æ•°æ®<br/>Microsoft Surface Pro"]

    style A fill:#e3f2fd,stroke:#1976d2,color:#000
    style B fill:#fff3e0,stroke:#f57c00,color:#000
    style C fill:#f3e5f5,stroke:#7b1fa2,color:#000
    style D fill:#fce4ec,stroke:#c62828,color:#000
    style E fill:#e8f5e9,stroke:#2e7d32,color:#000
```

ç”¨æˆ·æé—® â†’ OpenClaw æ ¹æ® `description` å­—æ®µåŒ¹é… Skill â†’ å°† `SKILL.md` æ³¨å…¥ AI ä¸Šä¸‹æ–‡ â†’ AI çŸ¥é“è¯¥æ‰§è¡Œä»€ä¹ˆå‘½ä»¤ã€‚

### 1.3 å¼€å‘æµç¨‹

æ¯ä¸ª Skill çš„å¼€å‘åªéœ€ 3 æ­¥ï¼š

| æ­¥éª¤ | æ“ä½œ | è¯´æ˜ |
|:----:|------|------|
| 1 | `mkdir -p ~/.openclaw/skills/<åç§°>` | åˆ›å»º Skill ç›®å½• |
| 2 | ç¼–å†™è„šæœ¬ + `SKILL.md` | è„šæœ¬å®ç°åŠŸèƒ½ï¼ŒSKILL.md å®šä¹‰è§¦å‘æ¡ä»¶å’Œä½¿ç”¨è¯´æ˜ |
| 3 | `openclaw gateway --force` | é‡å¯ Gateway åŠ è½½æ–° Skill |

**SKILL.md æ¨¡æ¿**ï¼š

```markdown
---
name: skill_name
description: æè¿°è¿™ä¸ª Skill åšä»€ä¹ˆï¼Œç”¨æˆ·é—®ä»€ä¹ˆé—®é¢˜æ—¶åº”è¯¥è§¦å‘ã€‚å†™å¾—è¶Šè¯¦ç»†ï¼ŒåŒ¹é…è¶Šå‡†ç¡®ã€‚
metadata: { "openclaw": { "emoji": "ğŸ”§", "requires": { "bins": ["bash"] } } }
---

# Skill æ ‡é¢˜

## ä½¿ç”¨æ–¹æ³•
è¿è¡Œï¼š`bash ~/.openclaw/skills/skill_name/script.sh`

## å¯ç”¨å‘½ä»¤
- å‘½ä»¤1: `xxx`
- å‘½ä»¤2: `xxx`
```

> **å…³é”®ç‚¹**ï¼š`description` å­—æ®µå†³å®šäº†ä»€ä¹ˆé—®é¢˜ä¼šè§¦å‘è¿™ä¸ª Skillï¼Œå»ºè®®å†™å¾—è¯¦ç»†ä¸”è¦†ç›–å¤šç§è¡¨è¿°æ–¹å¼ã€‚

---

## 2. å®æˆ˜æ¡ˆä¾‹ä¸æ€»è§ˆ

### 2.1 Skill æ€»è§ˆ

| # | Skill | ç±»å‹ | AI äº¤äº’ | å®šæ—¶æ¨é€ |
|---|-------|------|---------|----------|
| 1 | **system_info** ğŸ–¥ï¸ | å‘½ä»¤æ‰§è¡Œå‹ | exec è°ƒç”¨è„šæœ¬ | â€” |
| 2 | **weather** ğŸŒ¤ï¸ | å‘½ä»¤æ‰§è¡Œ + å®šæ—¶æ¨é€ | exec è°ƒç”¨è„šæœ¬ | æ¯ 2 å°æ—¶ â†’ é£ä¹¦ |
| 3 | **personal_info** ğŸ‘¤ | çº¯æ•°æ®å‹ | ç›´æ¥å¼•ç”¨ SKILL.md | â€” |
| 4 | **nas_search** ğŸ—„ï¸ | å‘½ä»¤æ‰§è¡Œå‹ | exec è°ƒç”¨è„šæœ¬ | â€” |
| 5 | **bilibili_summary** ğŸ“º | API æœåŠ¡å‹ | HTTP è°ƒç”¨ 3060 GPU æœåŠ¡ (whisper + Qwen3-32B) | AI å¯¹è¯å›å¤ |
| 6 | **qwen_usage** ğŸ’° | å‘½ä»¤æ‰§è¡Œå‹ (API) | exec è°ƒç”¨ Python è„šæœ¬æŸ¥è¯¢é˜¿é‡Œäº‘ BSS è´¦å• API | â€” |

äº”ç§ Skill ç±»å‹ï¼š**å‘½ä»¤æ‰§è¡Œå‹**ï¼ˆè„šæœ¬ + execï¼‰ã€**å®šæ—¶æ¨é€å‹**ï¼ˆè„šæœ¬ + cron + Webhookï¼‰ã€**çº¯æ•°æ®å‹**ï¼ˆåªæœ‰ SKILL.mdï¼‰ã€**API æœåŠ¡å‹**ï¼ˆè°ƒç”¨è¿œç¨‹ GPU æ¨ç†æœåŠ¡ï¼Œ3060 æ‰¿æ‹… GPU è®¡ç®— + LLM æ€»ç»“ï¼‰ã€**äº‘ API æŸ¥è¯¢å‹**ï¼ˆè°ƒç”¨äº‘å‚å•†ç®¡ç† API è·å–è´¦æˆ·æ•°æ®ï¼‰ã€‚

```
~/.openclaw/skills/
â”œâ”€â”€ system_info/           â† å‘½ä»¤æ‰§è¡Œå‹
â”‚   â”œâ”€â”€ SKILL.md
â”‚   â””â”€â”€ gather_info.sh
â”œâ”€â”€ weather/               â† å‘½ä»¤æ‰§è¡Œ + å®šæ—¶æ¨é€
â”‚   â”œâ”€â”€ SKILL.md
â”‚   â”œâ”€â”€ get_weather.sh
â”‚   â””â”€â”€ weather_feishu_push.sh
â”œâ”€â”€ personal_info/         â† çº¯æ•°æ®å‹
â”‚   â””â”€â”€ SKILL.md
â”œâ”€â”€ nas_search/            â† å‘½ä»¤æ‰§è¡Œå‹ (SSH è¿œç¨‹)
â”‚   â”œâ”€â”€ SKILL.md
â”‚   â””â”€â”€ nas_search.sh
â”œâ”€â”€ bilibili_summary/      â† API æœåŠ¡å‹ (3060 GPU + Qwen3-32B)
â”‚   â”œâ”€â”€ SKILL.md
â”‚   â”œâ”€â”€ bilibili_summary.sh   # è°ƒåº¦è„šæœ¬ (curl â†’ 3060 API)
â”‚   â”œâ”€â”€ transcribe_single.py  # Whisper è½¬å†™ (éƒ¨ç½²åˆ° 3060 Docker)
â”‚   â””â”€â”€ server.py             # FastAPI æœåŠ¡ (éƒ¨ç½²åˆ° 3060, systemd)
â””â”€â”€ qwen_usage/            â† äº‘ API æŸ¥è¯¢å‹ (é˜¿é‡Œäº‘ BSS OpenAPI)
    â”œâ”€â”€ SKILL.md
    â”œâ”€â”€ query_usage.py         # æŸ¥è¯¢è„šæœ¬ (alibabacloud SDK)
    â””â”€â”€ query_usage.sh         # åŒ…è£…è„šæœ¬ (åŠ è½½ env + è‡ªåŠ¨å®‰è£…ä¾èµ–)
```

### 2.2 system_info Skill

**â‘  ç›®æ ‡**

è®© AI èƒ½è¯»å–æœ¬æœºçš„ç¡¬ä»¶ã€è½¯ä»¶ã€æ¸©åº¦ã€ç½‘ç»œç­‰çœŸå®ä¿¡æ¯ï¼Œè€Œä¸æ˜¯ç»™å‡º"é€šç”¨æŒ‡å¯¼"ã€‚

**â‘¡ åˆ›å»ºç›®å½•ä¸è„šæœ¬**

```bash
mkdir -p ~/.openclaw/skills/system_info
```

**gather_info.sh** â€” ç³»ç»Ÿä¿¡æ¯é‡‡é›†è„šæœ¬ï¼š

```bash
#!/bin/bash
section() { echo -e "\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n  $1\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"; }

section "ğŸ–¥ï¸ æ“ä½œç³»ç»Ÿ"
. /etc/os-release && echo "  å‘è¡Œç‰ˆ: $PRETTY_NAME"
echo "  å†…æ ¸: $(uname -r)"
echo "  è¿è¡Œæ—¶é•¿: $(uptime -p)"

section "âš¡ CPU"
grep -m1 'model name' /proc/cpuinfo | cut -d: -f2 | xargs
echo "  æ ¸å¿ƒ: $(nproc)  è´Ÿè½½: $(cat /proc/loadavg | awk '{print $1,$2,$3}')"

section "ğŸ§  å†…å­˜"
free -h | grep '^Mem:'

section "ğŸ® GPU"
lspci | grep -i 'vga\|3d' | head -1

section "ğŸ’¾ ç£ç›˜"
df -h | grep '^/dev/'

section "ğŸŒ¡ï¸ ç¡¬ä»¶æ¸©åº¦"
sensors

# ... æ›´å¤šæ¨¡å—ï¼šç½‘ç»œã€ä¸»æ¿ã€è½¯ä»¶ç¯å¢ƒã€æœåŠ¡çŠ¶æ€ç­‰
```

**â‘¢ ç¼–å†™ SKILL.md**

```markdown
---
name: system_info
description: è·å–æœ¬æœºç¡¬ä»¶å’Œè½¯ä»¶ä¿¡æ¯ï¼ŒåŒ…æ‹¬ CPUã€å†…å­˜ã€GPUã€ç£ç›˜ã€ç½‘ç»œã€ç¡¬ä»¶æ¸©åº¦ã€
             å·²å®‰è£…è½¯ä»¶å’Œè¿è¡Œä¸­çš„æœåŠ¡ã€‚å½“ç”¨æˆ·è¯¢é—®ç”µè„‘é…ç½®ã€ç³»ç»ŸçŠ¶æ€ã€ç¡¬ä»¶ä¿¡æ¯ã€
             æ¸©åº¦ç­‰é—®é¢˜æ—¶ä½¿ç”¨æ­¤æŠ€èƒ½ã€‚
metadata: { "openclaw": { "emoji": "ğŸ–¥ï¸", "requires": { "bins": ["bash", "sensors"] } } }
---

# ç³»ç»Ÿä¿¡æ¯é‡‡é›†

## å®Œæ•´æŠ¥å‘Š
è¿è¡Œï¼š`bash ~/.openclaw/skills/system_info/gather_info.sh`

## æŒ‰éœ€æŸ¥è¯¢
- CPU: `grep 'model name' /proc/cpuinfo | head -1`
- å†…å­˜: `free -h`
- ç£ç›˜: `df -h`
- æ¸©åº¦: `sensors`ï¼ˆCPU å°è£…ã€Core 0/1ã€PCHã€NVMeã€ç”µæ± ç”µå‹ï¼‰

## æœ¬æœºé€ŸæŸ¥
- è®¾å¤‡: Microsoft Surface Pro
- CPU: Intel Core i5-7300U @ 2.60GHz
- å†…å­˜: 8GB
- ç³»ç»Ÿ: Ubuntu 22.04.3 LTS
```

**â‘£ éªŒè¯ä¸æ•ˆæœ**

```bash
source ~/.openclaw/env
openclaw skills list
# âœ“ ready   â”‚ ğŸ–¥ï¸ system_info   â”‚ è·å–æœ¬æœºç¡¬ä»¶å’Œè½¯ä»¶ä¿¡æ¯...   â”‚ openclaw-managed
```

åœ¨é£ä¹¦ä¸­é—® AI "ç”µè„‘æ˜¯ä»€ä¹ˆç‰Œå­çš„ï¼Ÿç¡¬ä»¶é…ç½®æ˜¯ä»€ä¹ˆï¼Ÿ"ï¼š

![OpenClaw å®é™…å¯¹è¯æˆªå›¾ - system_info Skill æ•ˆæœ](../images/openclaw_telegram_sysinfo_demo.png)

AI **çœŸçš„æ‰§è¡Œäº†ç³»ç»Ÿå‘½ä»¤**ï¼Œè¿”å›äº†å“ç‰Œå‹å·ã€CPUã€å†…å­˜ã€ç£ç›˜ã€GPUã€ç”µæ± å¥åº·åº¦ï¼ˆ96.51%ï¼‰ç­‰çœŸå®æ•°æ®ã€‚è¿™å°±æ˜¯ Skill ç³»ç»Ÿ + `exec` å·¥å…·çš„å¨åŠ›ã€‚

---

### 2.3 weather Skill

**â‘  ç›®æ ‡ä¸æ–¹æ¡ˆé€‰å‹**

**ç›®æ ‡**ï¼šAI èƒ½æŸ¥å¤©æ°” + æ¯ 2 å°æ—¶è‡ªåŠ¨æ¨é€åˆ°é£ä¹¦ + è‡ªåŠ¨è·å–æœåŠ¡å™¨ä½ç½®ã€‚

| API | ä¼˜ç‚¹ | ç¼ºç‚¹ | è´¹ç”¨ |
|-----|------|------|------|
| **wttr.in** | æ— éœ€ API Keyï¼Œæ”¯æŒä¸­æ–‡ï¼Œcurl ç›´æ¥è°ƒç”¨ | æ•°æ®ç²¾åº¦ä¸€èˆ¬ | å…è´¹ |
| å’Œé£å¤©æ°” | ä¸­å›½åŸå¸‚æ•°æ®å¥½ | éœ€æ³¨å†Œ API Key | å…è´¹é¢åº¦æœ‰é™ |
| OpenWeatherMap | å…¨çƒè¦†ç›– | ä¸­æ–‡æ”¯æŒå¼±ï¼Œéœ€æ³¨å†Œ | å…è´¹é¢åº¦æœ‰é™ |

æœ€ç»ˆé€‰æ‹© **[wttr.in](https://wttr.in)** â€” é›¶é…ç½®ã€å…è´¹ã€`curl` ä¸€è¡Œå°±èƒ½ç”¨ã€‚

**â‘¡ IP å®šä½è·å–åŸå¸‚**

æœåŠ¡å™¨æ²¡æœ‰ GPS ç¡¬ä»¶ï¼Œé€šè¿‡ IP åœ°å€åæŸ¥ä½ç½®ï¼š

```bash
curl -s http://ip-api.com/json/?lang=zh-CN
# {"city":"æŸåŸå¸‚","lat":xx.xxxx,"lon":xxx.xxxx,...}
```

å®šä½ç»“æœï¼š**æŸåŸå¸‚ï¼ŒæŸçœ**ï¼ˆGPS: xx.xxxx, xxx.xxxxï¼‰ï¼ŒåŸå¸‚çº§ç²¾åº¦å¯¹å¤©æ°”æŸ¥è¯¢å¤Ÿç”¨ã€‚

**â‘¢ åˆ›å»ºç›®å½•ä¸è„šæœ¬**

```bash
mkdir -p ~/.openclaw/skills/weather
```

**get_weather.sh** â€” AI é€šè¿‡ `exec` è°ƒç”¨çš„æŸ¥è¯¢è„šæœ¬ï¼š

```bash
#!/bin/bash
CITY="${1:-YourCity}"
DATA=$(curl -s "https://wttr.in/${CITY}?format=j1&lang=zh")
# python3 è§£æ JSONï¼Œè¾“å‡ºå½“å‰å¤©æ°” + 3 å¤©é¢„æŠ¥ + é€æ—¶é¢„æŠ¥
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ğŸŒ YourCity, YourProvince
  ğŸ“ GPS: 32.062, 118.778
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸŒ¡ï¸ å½“å‰å¤©æ°”: æ™´æœ—
  æ¸©åº¦: -2Â°C (ä½“æ„Ÿ -5Â°C)
  æ¹¿åº¦: 63%  é£é€Ÿ: 8 km/h (SE)

ğŸ“… ä»Šå¤© (2026-02-09)  -1Â°C ~ 8Â°C
    09:00  é˜´å¤©  2Â°C
    15:00  é›¶æ˜Ÿå°é›¨  8Â°C ğŸŒ§ï¸64%

ğŸ“… æ˜å¤© (2026-02-10)  2Â°C ~ 9Â°C
    ...
```

æ”¯æŒæŸ¥è¯¢å…¶ä»–åŸå¸‚ï¼š`bash get_weather.sh Shanghai`

**â‘£ é£ä¹¦å®šæ—¶æ¨é€**

**weather_feishu_push.sh** â€” é€šè¿‡é£ä¹¦ Webhook æ¨é€ï¼Œå†…å®¹åŒ…å«ï¼š

- å½“å‰å¤©æ°”ã€æ¸©åº¦ã€ä½“æ„Ÿæ¸©åº¦ã€æ¹¿åº¦ã€é£é€Ÿ
- ä»Šæ—¥å’Œæ˜æ—¥æ¸©åº¦èŒƒå›´ + æœªæ¥ 4 ä¸ªæ—¶æ®µé€æ—¶é¢„æŠ¥
- ç©¿è¡£å»ºè®®ï¼ˆæ ¹æ®æ¸©åº¦è‡ªåŠ¨ç”Ÿæˆï¼‰
- é™æ°´æé†’ï¼ˆæ¦‚ç‡ >50% æ—¶æé†’å¸¦ä¼ï¼‰

**ç©¿è¡£å»ºè®®é€»è¾‘**ï¼š

| æ¸©åº¦ | å»ºè®® |
|------|------|
| â‰¤0Â°C | ä¸¥å¯’ï¼Œåšç¾½ç»’æœ + å›´å·¾æ‰‹å¥— |
| 1~10Â°C | è¾ƒå†·ï¼Œæ£‰è¡£æˆ–è–„ç¾½ç»’æœ |
| 11~20Â°C | å‡‰çˆ½ï¼Œå¤–å¥—æˆ–å«è¡£ |
| 21~30Â°C | èˆ’é€‚ï¼ŒTæ¤æˆ–è–„é•¿è¢– |
| >30Â°C | ç‚çƒ­ï¼Œé˜²æš‘é™æ¸© |

**Cron é…ç½®**ï¼ˆæ¯ 2 å°æ—¶æ•´ç‚¹æ¨é€ï¼‰ï¼š

```bash
0 */2 * * * /bin/bash /home/youruser/.openclaw/skills/weather/weather_feishu_push.sh
```

**â‘¤ ç¼–å†™ SKILL.md**

```markdown
---
name: weather
description: æŸ¥è¯¢å¤©æ°”ä¿¡æ¯ï¼ŒåŒ…æ‹¬å½“å‰å¤©æ°”ã€æ¸©åº¦ã€æ¹¿åº¦ã€é£é€Ÿã€æœªæ¥3å¤©é¢„æŠ¥ã€é€æ—¶é¢„æŠ¥ã€‚
             å½“ç”¨æˆ·è¯¢é—®å¤©æ°”ã€æ¸©åº¦ã€æ˜¯å¦ä¸‹é›¨ã€ç©¿ä»€ä¹ˆè¡£æœã€éœ€ä¸éœ€è¦å¸¦ä¼ç­‰é—®é¢˜æ—¶ä½¿ç”¨ã€‚
metadata: { "openclaw": { "emoji": "ğŸŒ¤ï¸", "requires": { "bins": ["bash", "curl", "python3"] } } }
---

# å¤©æ°”æŸ¥è¯¢

## é»˜è®¤åŸå¸‚
æŸåŸå¸‚ (MyCity)ï¼ŒåŸºäºæœåŠ¡å™¨ IP è‡ªåŠ¨å®šä½

## æŸ¥è¯¢å¤©æ°”
è¿è¡Œï¼š`bash ~/.openclaw/skills/weather/get_weather.sh`
æŸ¥è¯¢å…¶ä»–åŸå¸‚ï¼š`bash ~/.openclaw/skills/weather/get_weather.sh Shanghai`
```

**â‘¥ æ–‡ä»¶æ¸…å•ä¸æ¶æ„**

```
~/.openclaw/skills/weather/
â”œâ”€â”€ SKILL.md                  # Skill å®šä¹‰ï¼ˆè§¦å‘æ¡ä»¶ï¼‰
â”œâ”€â”€ get_weather.sh            # å¤©æ°”æŸ¥è¯¢è„šæœ¬ï¼ˆAI è°ƒç”¨ï¼‰
â”œâ”€â”€ weather_feishu_push.sh    # é£ä¹¦å®šæ—¶æ¨é€è„šæœ¬ï¼ˆcron è°ƒç”¨ï¼‰
â””â”€â”€ weather_push.log          # æ¨é€æ—¥å¿—
```

```mermaid
flowchart LR
    API["ğŸŒ wttr.in\nAPI"]

    subgraph ai ["ğŸ¤– AI äº¤äº’æŸ¥è¯¢"]
        direction TB
        A1["ğŸ§‘ ç”¨æˆ·é—®ï¼šä»Šå¤©å¤©æ°”ï¼Ÿ"]
        A2["ğŸ” OpenClaw åŒ¹é…\nweather Skill"]
        A3["âš¡ exec è°ƒç”¨\nget_weather.sh"]
        A4["ğŸ“Š è¿”å› 3 å¤©é¢„æŠ¥\nç»™ç”¨æˆ·"]
        A1 --> A2 --> A3 --> A4
    end

    subgraph cron ["â° Cron å®šæ—¶æ¨é€"]
        direction TB
        B1["ğŸ• æ¯ 2 å°æ—¶\ncron è§¦å‘"]
        B2["ğŸ“œ æ‰§è¡Œ\nweather_feishu_push.sh"]
        B3["ğŸ“¨ é£ä¹¦ Webhook\næ¨é€æ¶ˆæ¯"]
        B1 --> B2 --> B3
    end

    A3 -. "curl" .-> API
    B2 -. "curl" .-> API

    style ai fill:#e3f2fd,stroke:#1976d2,color:#000
    style cron fill:#fff3e0,stroke:#f57c00,color:#000
    style API fill:#e8f5e9,stroke:#2e7d32,color:#000
```

---

### 2.4 personal_info Skill

**â‘  ç›®æ ‡ä¸æ€è·¯**

**ç›®æ ‡**ï¼šè®© AI äº†è§£ä¸»äººçš„ä¸ªäººèƒŒæ™¯ï¼Œèƒ½å›ç­”å…³äºå­¦å†ã€å·¥ä½œç»å†ã€é¡¹ç›®ç»éªŒç­‰é—®é¢˜ã€‚

**ä¸å‰ä¸¤ä¸ª Skill çš„åŒºåˆ«**ï¼šè¿™æ˜¯ä¸€ä¸ª**çº¯æ•°æ® Skill**ï¼Œä¸éœ€è¦æ‰§è¡Œè„šæœ¬ã€‚æ‰€æœ‰ä¿¡æ¯ç›´æ¥å†™åœ¨ SKILL.md é‡Œï¼ŒSkill åŒ¹é…å AI å³å¯å¼•ç”¨å›ç­”ã€‚

> è¿™è¯´æ˜ Skill ä¸ä¸€å®šéœ€è¦ Shell è„šæœ¬â€”â€”SKILL.md æœ¬èº«å°±æ˜¯çŸ¥è¯†æ³¨å…¥çš„è½½ä½“ã€‚

**â‘¡ æ•°æ®æ¥æº**

æ•°æ®æ¥è‡ªä¹‹å‰åˆ¶ä½œçš„ä¸ªäºº Q&A æ•°æ®é›† `personal_qa.json`ï¼ˆ39 æ¡è‡ªé—®è‡ªç­”ï¼‰ï¼ŒåŒ…å«ï¼š

| ç±»åˆ« | å†…å®¹ç¤ºä¾‹ |
|------|----------|
| åŸºæœ¬ä¿¡æ¯ | å§“åã€æ€§åˆ«ã€ç±è´¯ã€çˆ±å¥½ |
| æ•™è‚²ç»å† | æŸä¸­å­¦ â†’ æŸå¤§å­¦ï¼ˆæœ¬ç§‘ï¼‰â†’ æŸå¤§å­¦ï¼ˆç¡•å£«ï¼‰|
| å·¥ä½œç»å† | æŸèŠ¯ç‰‡å…¬å¸ï¼ˆ2021~2024ï¼‰â†’ æŸAIå…¬å¸ï¼ˆ2024~è‡³ä»Šï¼‰|
| é¡¹ç›®ç»éªŒ | æ™ºèƒ½åº§èˆ±æ‰‹åŠ¿è¯†åˆ«ã€å…¬æ–‡åŠå…¬åŠ©æ‰‹ã€è¯­éŸ³å¤„ç†ä¼˜åŒ– |
| æŠ€æœ¯èƒ½åŠ› | Pytorchã€DeepSpeedã€vLLMã€CVã€åµŒå…¥å¼ |

å°† JSON æ ¼å¼çš„ Q&A å¯¹æ•´ç†ä¸ºç»“æ„åŒ– Markdown è¡¨æ ¼å’Œåˆ†ç±»æ®µè½ï¼Œä¾¿äº AI ç›´æ¥å¼•ç”¨ã€‚

**â‘¢ ç¼–å†™ SKILL.md**

```markdown
---
name: personal_info
description: å…³äºä¸»äººå¼ ä¸‰çš„ä¸ªäººä¿¡æ¯ï¼ŒåŒ…æ‹¬æ•™è‚²èƒŒæ™¯ã€å·¥ä½œç»å†ã€é¡¹ç›®ç»éªŒã€æŠ€æœ¯æ ˆã€
             å…´è¶£çˆ±å¥½ç­‰ã€‚å½“ç”¨æˆ·è¯¢é—®"ä½ æ˜¯è°"ã€"ä¸»äººæ˜¯è°"ã€"å¼ ä¸‰æ˜¯è°"ã€
             "å·¥ä½œç»å†"ã€"å­¦å†"ã€"åšè¿‡ä»€ä¹ˆé¡¹ç›®"ç­‰ä¸ªäººç›¸å…³é—®é¢˜æ—¶ä½¿ç”¨æ­¤æŠ€èƒ½ã€‚
metadata: { "openclaw": { "emoji": "ğŸ‘¤", "requires": { "bins": [] } } }
---

# ä¸»äººæ¡£æ¡ˆ â€” å¼ ä¸‰

## åŸºæœ¬ä¿¡æ¯
| é¡¹ç›® | å†…å®¹ |
|------|------|
| å§“å | å¼ ä¸‰ |
| ç±è´¯ | æŸçœæŸå¸‚ |
| ç°å±… | ä¸Šæµ· |
| çˆ±å¥½ | ç¾½æ¯›çƒã€æå°å‘æ˜ |

## æ•™è‚²ç»å†
ï¼ˆæŒ‰æ—¶é—´çº¿æ•´ç†ï¼Œå«è½¬å‹å…³é”®èŠ‚ç‚¹ï¼‰

## å·¥ä½œç»å†
ï¼ˆæŒ‰å…¬å¸åˆ†æ®µï¼Œå«èŒä½ã€é¡¹ç›®ç»†èŠ‚ã€æŠ€æœ¯æ ˆï¼‰

## æŠ€æœ¯èƒ½åŠ›æ€»ç»“
ï¼ˆåˆ†é¢†åŸŸè¡¨æ ¼ï¼šæ¡†æ¶ã€éƒ¨ç½²ã€CVã€è¯­éŸ³ã€åµŒå…¥å¼ç­‰ï¼‰

## å›ç­”è§„åˆ™
- ä¸è¦ç¼–é€ ä¸»äººæ²¡æœ‰åšè¿‡çš„äº‹æƒ…
- æ¡£æ¡ˆä¸­æ²¡æœ‰çš„ä¿¡æ¯ï¼Œå¦‚å®è¯´ä¸æ¸…æ¥š
```

**â‘£ å…³é”®è®¾è®¡**ï¼š

- `requires.bins` ä¸ºç©º â€” ä¸éœ€è¦ä»»ä½•å¤–éƒ¨å‘½ä»¤
- `description` è¦†ç›–å¤šç§æé—®æ–¹å¼ï¼ˆ"ä½ æ˜¯è°"ã€"ä¸»äººæ˜¯è°"ã€"å­¦å†"ã€"é¡¹ç›®"ç­‰ï¼‰
- æœ«å°¾åŠ "å›ç­”è§„åˆ™"é˜²æ­¢ AI å¹»è§‰ï¼ˆå¦‚ JSON åŸå§‹æ•°æ®ä¸­æœ‰ä¸€æ¡ AI è™šæ„çš„"æ™ºæ…§åŒ»ç–—é¡¹ç›®"ï¼Œå·²åœ¨æ•´ç†æ—¶å‰”é™¤ï¼‰

**â‘¤ æ–‡ä»¶æ¸…å•**

```
~/.openclaw/skills/personal_info/
â””â”€â”€ SKILL.md    # ä¸ªäººæ¡£æ¡ˆï¼ˆçº¯æ•°æ®ï¼Œæ— è„šæœ¬ï¼‰
```

> **è¦ç‚¹**ï¼šçº¯æ•°æ® Skill åªéœ€ä¸€ä¸ª SKILL.mdï¼Œæ˜¯æœ€ç®€å•çš„ Skill å½¢å¼ã€‚é€‚åˆçŸ¥è¯†åº“ã€FAQã€ä¸ªäººæ¡£æ¡ˆç­‰ä¸éœ€è¦æ‰§è¡Œå‘½ä»¤çš„åœºæ™¯ã€‚

---

### 2.5 nas_search Skill

**â‘  ç›®æ ‡ä¸æ€è·¯**

**ç›®æ ‡**ï¼šè®© AI èƒ½ç›´æ¥æœç´¢å’Œæµè§ˆå®¶åº­ NAS ä¸Šçš„æ–‡ä»¶ï¼Œæ”¯æŒæŒ‰æ–‡ä»¶åã€æ–‡ä»¶ç±»å‹ã€ç›®å½•æµè§ˆã€ç£ç›˜å ç”¨ã€æœ€è¿‘ä¿®æ”¹ç­‰å¤šç§æ£€ç´¢æ–¹å¼ã€‚

**ä¸å…¶ä»– Skill çš„åŒºåˆ«**ï¼šè¿™æ˜¯ä¸€ä¸ª**è¿œç¨‹å‘½ä»¤æ‰§è¡Œå‹ Skill** â€” é€šè¿‡ SSH åœ¨ NAS ä¸Šæ‰§è¡Œå‘½ä»¤ï¼Œè€Œéæœ¬æœºå‘½ä»¤ã€‚å±äº "å‘½ä»¤æ‰§è¡Œå‹" çš„ä¸€ä¸ªå˜ä½“ã€‚

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| ç±»å‹ | å‘½ä»¤æ‰§è¡Œå‹ï¼ˆSSH è¿œç¨‹ï¼‰ |
| è¿æ¥æ–¹å¼ | SSH å…å¯†ç™»å½•ï¼ˆ`ssh nas`ï¼‰ |
| NAS å‹å· | ç»¿è” NASï¼ˆARM64ï¼‰ |
| å­˜å‚¨å· | åŒå·é…ç½®ï¼ˆç³»ç»Ÿå· + æ•°æ®å·ï¼‰ |

**â‘¡ NAS å­˜å‚¨ç»“æ„**

```
Volume 1 (ç³»ç»Ÿå·)
â””â”€â”€ docker/            # Docker æœåŠ¡

Volume 2 (æ•°æ®å·)
â”œâ”€â”€ Movies/            # å½±è§†èµ„æº
â”œâ”€â”€ Photos/            # ç…§ç‰‡ï¼ˆæŒ‰æ—¥æœŸ/äº‹ä»¶åˆ†ç›®å½•ï¼‰
â”œâ”€â”€ Games/             # æ¸¸æˆå­˜æ¡£
â”œâ”€â”€ Musics/            # éŸ³ä¹
â””â”€â”€ ...                # å…¶ä»–ç›®å½•
```

**â‘¢ åˆ›å»ºç›®å½•ä¸è„šæœ¬**

```bash
mkdir -p ~/.openclaw/skills/nas_search
```

**nas_search.sh** â€” å¤šåŠŸèƒ½ NAS æ–‡ä»¶æ£€ç´¢è„šæœ¬ï¼ˆæ”¯æŒ 10 ç§å­å‘½ä»¤ï¼‰ï¼š

```bash
#!/bin/bash
# NAS æ–‡ä»¶æ£€ç´¢è„šæœ¬ â€” OpenClaw Skill
# é€šè¿‡ SSH è¿œç¨‹æœç´¢ç»¿è” NAS (DH4300 Plus) ä¸Šçš„æ–‡ä»¶

NAS_HOST="nas"
MAX_RESULTS=50

# SSH æ‰§è¡Œå°è£…ï¼ˆ-n é¿å… while å¾ªç¯ä¸­ stdin è¢«æŠ¢å ï¼‰
nas_exec() {
    ssh -n -o ConnectTimeout=30 -o StrictHostKeyChecking=no "$NAS_HOST" "$@" 2>/dev/null
}
```

æ”¯æŒçš„å­å‘½ä»¤ï¼š

| å‘½ä»¤ | åŠŸèƒ½ | ç¤ºä¾‹ |
|------|------|------|
| `search <å…³é”®è¯> [ç›®å½•]` | æŒ‰æ–‡ä»¶åæœç´¢ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ | `search myfile` |
| `list <ç›®å½•>` | åˆ—å‡ºç›®å½•å†…å®¹ï¼ˆå«å¤§å°ã€æ—¶é—´ï¼‰ | `list /volume2/Photos` |
| `tree <ç›®å½•> [æ·±åº¦]` | æ ‘å½¢æ˜¾ç¤ºç›®å½•ç»“æ„ | `tree /volume2 2` |
| `type <æ‰©å±•å> [ç›®å½•]` | æŒ‰æ–‡ä»¶ç±»å‹æœç´¢ | `type mp4 /volume2` |
| `size <ç›®å½•>` | æŸ¥çœ‹ç£ç›˜å ç”¨ï¼ˆduï¼‰ | `size /volume2/Photos` |
| `recent [ç›®å½•] [å¤©æ•°]` | æœ€è¿‘ä¿®æ”¹çš„æ–‡ä»¶ | `recent /volume2 3` |
| `overview` | NAS å­˜å‚¨æ€»è§ˆï¼ˆç©ºé—´ + ä¸€çº§ç›®å½•ï¼‰ | `overview` |
| `movies [ç³»åˆ—å]` | ç”µå½±åº“æ£€ç´¢ | `movies <ç³»åˆ—å>` |
| `photos` | ç…§ç‰‡ç›®å½•ä¸€è§ˆ | `photos` |

**å…³é”®å®ç°ç»†èŠ‚**ï¼š

- **SSH `-n` å‚æ•°**ï¼šåœ¨ `while read` å¾ªç¯å†…è°ƒç”¨ SSH æ—¶å¿…é¡»åŠ  `-n`ï¼Œå¦åˆ™å†…å±‚ SSH ä¼šæŠ¢å  stdinï¼Œå¯¼è‡´å¾ªç¯åªæ‰§è¡Œä¸€æ¬¡ï¼ˆç»å…¸ bash é™·é˜±ï¼‰
- **æ’é™¤ç³»ç»Ÿç›®å½•**ï¼šæœç´¢æ—¶è‡ªåŠ¨æ’é™¤ `@*` å¼€å¤´çš„ç³»ç»Ÿç›®å½•å’Œ `#recycle` å›æ”¶ç«™
- **ç»“æœä¸Šé™**ï¼šé»˜è®¤æœ€å¤šè¿”å› 50 æ¡ç»“æœï¼Œé¿å…è¾“å‡ºè¿‡å¤š

**â‘£ ç¼–å†™ SKILL.md**

```markdown
---
name: nas_search
description: æœç´¢å’Œæµè§ˆ NAS (ç»¿è” UGREEN DH4300 Plus) ä¸Šçš„æ–‡ä»¶ã€‚æ”¯æŒæŒ‰æ–‡ä»¶åæœç´¢ã€æŒ‰æ–‡ä»¶ç±»å‹æœç´¢ã€
             åˆ—å‡ºç›®å½•å†…å®¹ã€æŸ¥çœ‹ç£ç›˜å ç”¨ã€æŸ¥çœ‹æœ€è¿‘ä¿®æ”¹çš„æ–‡ä»¶ã€æŸ¥çœ‹ç”µå½±åº“ã€æŸ¥çœ‹ç…§ç‰‡ç›®å½•ã€‚
             å½“ç”¨æˆ·è¯¢é—® NAS ä¸Šæœ‰ä»€ä¹ˆæ–‡ä»¶ã€æ‰¾æŸä¸ªæ–‡ä»¶åœ¨å“ªã€NAS å­˜å‚¨ç©ºé—´ã€ç”µå½±åˆ—è¡¨ã€
             ç…§ç‰‡ç›®å½•ã€æœ€è¿‘ä¸‹è½½äº†ä»€ä¹ˆã€NAS ç£ç›˜å®¹é‡ã€æŸ¥æ‰¾æ–‡ä»¶ç­‰é—®é¢˜æ—¶ä½¿ç”¨æ­¤æŠ€èƒ½ã€‚
metadata: { "openclaw": { "emoji": "ğŸ—„ï¸", "requires": { "bins": ["bash", "ssh"] } } }
---

# NAS æ–‡ä»¶æ£€ç´¢

## å¯ç”¨å‘½ä»¤
- æœç´¢æ–‡ä»¶: `bash ~/.openclaw/skills/nas_search/nas_search.sh search <å…³é”®è¯>`
- åˆ—ç›®å½•: `bash ~/.openclaw/skills/nas_search/nas_search.sh list <ç›®å½•>`
- æŒ‰ç±»å‹: `bash ~/.openclaw/skills/nas_search/nas_search.sh type <æ‰©å±•å> [ç›®å½•]`
- ç£ç›˜å ç”¨: `bash ~/.openclaw/skills/nas_search/nas_search.sh size <ç›®å½•>`
- å­˜å‚¨æ€»è§ˆ: `bash ~/.openclaw/skills/nas_search/nas_search.sh overview`
- ç”µå½±åº“: `bash ~/.openclaw/skills/nas_search/nas_search.sh movies [ç³»åˆ—å]`
- ç…§ç‰‡ç›®å½•: `bash ~/.openclaw/skills/nas_search/nas_search.sh photos`
```

**â‘¤ éªŒè¯æ•ˆæœ**

```bash
# NAS å­˜å‚¨æ€»è§ˆ
bash ~/.openclaw/skills/nas_search/nas_search.sh overview
# è¾“å‡º: ä¸»æœºåã€ç³»ç»Ÿç‰ˆæœ¬ã€å„ Volume å­˜å‚¨ç©ºé—´ã€ä¸€çº§ç›®å½•å¤§å°æ’åº

# æŒ‰æ–‡ä»¶åæœç´¢
bash ~/.openclaw/skills/nas_search/nas_search.sh search <å…³é”®è¯>
# è¾“å‡º: åŒ¹é…çš„æ–‡ä»¶å®Œæ•´è·¯å¾„åˆ—è¡¨ï¼ˆè‡ªåŠ¨æ’é™¤ç³»ç»Ÿç›®å½•å’Œå›æ”¶ç«™ï¼‰

# ç…§ç‰‡ç›®å½•ä¸€è§ˆ
bash ~/.openclaw/skills/nas_search/nas_search.sh photos
# è¾“å‡º: æ¯ä¸ªç›¸å†Œç›®å½•çš„æ–‡ä»¶æ•°å’Œå ç”¨ç©ºé—´

# ç”µå½±ç³»åˆ—è¯¦æƒ…
bash ~/.openclaw/skills/nas_search/nas_search.sh movies <ç³»åˆ—å>
# è¾“å‡º: è¯¥ç³»åˆ—ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼ˆæŒ‰å¤§å°æ’åºï¼‰+ å­—å¹•æ–‡ä»¶æ£€æŸ¥

# æŒ‰æ–‡ä»¶ç±»å‹æœç´¢
bash ~/.openclaw/skills/nas_search/nas_search.sh type mp4 /volume2
# è¾“å‡º: æ‰€æœ‰ .mp4 æ–‡ä»¶è·¯å¾„
```

**â‘¥ æ–‡ä»¶æ¸…å•ä¸æ¶æ„**

```
~/.openclaw/skills/nas_search/
â”œâ”€â”€ SKILL.md          # Skill å®šä¹‰ï¼ˆè§¦å‘æ¡ä»¶ + ç›®å½•é€ŸæŸ¥ï¼‰
â””â”€â”€ nas_search.sh     # å¤šåŠŸèƒ½æ£€ç´¢è„šæœ¬ï¼ˆ10 ç§å­å‘½ä»¤ï¼‰
```

```mermaid
flowchart LR
    A["ğŸ§‘ ç”¨æˆ·é—®ï¼šNAS ä¸Šæœ‰ä»€ä¹ˆç…§ç‰‡ï¼Ÿ"] --> B["ğŸ” OpenClaw åŒ¹é…\nnas_search Skill"]
    B --> C["âš¡ exec è°ƒç”¨\nnas_search.sh photos"]
    C --> D["ğŸ”— SSH â†’ NAS"]
    D --> E["ğŸ“Š è¿”å›ç›®å½•åˆ—è¡¨\nå«æ–‡ä»¶æ•°å’Œå¤§å°"]

    style A fill:#e3f2fd,stroke:#1976d2,color:#000
    style B fill:#fff3e0,stroke:#f57c00,color:#000
    style C fill:#f3e5f5,stroke:#7b1fa2,color:#000
    style D fill:#fce4ec,stroke:#c62828,color:#000
    style E fill:#e8f5e9,stroke:#2e7d32,color:#000
```

> **è¦ç‚¹**ï¼šè¿™æ˜¯ç¬¬ä¸€ä¸ª **è¿œç¨‹æ‰§è¡Œ** çš„ Skill â€” AI ä¸ä»…èƒ½æ“ä½œæœ¬æœºï¼Œè¿˜èƒ½é€šè¿‡ SSH ç®¡ç†å®¶åº­ NASã€‚åŒæ ·çš„æ¨¡å¼å¯ä»¥æ‰©å±•åˆ°ä»»ä½• SSH å¯è¾¾çš„è®¾å¤‡ï¼ˆå¦‚ Ubuntu 3060 å·¥ä½œç«™ï¼‰ã€‚

---

### 2.6 bilibili_summary Skill

**â‘  ç›®æ ‡ä¸å®šä½**

**ç›®æ ‡**ï¼šç”¨æˆ·åœ¨é£ä¹¦å¯¹è¯ä¸­å‘ä¸€ä¸ª Bç«™è§†é¢‘é“¾æ¥ï¼ŒAI è‡ªåŠ¨å®Œæˆå…¨æµç¨‹â€”â€”ä¸‹è½½è§†é¢‘ã€è¯­éŸ³è½¬æ–‡å­—ã€AI æ€»ç»“ï¼ŒæŠŠç»“æ„åŒ–çš„è§†é¢‘æ‘˜è¦ç›´æ¥å›å¤ç»™ç”¨æˆ·ã€‚å…¨ç¨‹è‡ªåŠ¨åŒ–ï¼Œå°†éç»“æ„åŒ–è§†é¢‘å†…å®¹è½¬åŒ–ä¸ºå¯æ£€ç´¢çš„æ–‡æœ¬å’Œæ‘˜è¦ï¼Œæ°¸ä¹…å­˜å‚¨åœ¨ NAS ä¸Šã€‚

**Skill ç±»å‹å®šä½ â€” API æœåŠ¡å‹**ï¼šè¿™æ˜¯ä¸€ç§å…¨æ–°çš„ Skill ç±»å‹ã€‚ä¸åŒäºä¹‹å‰çš„å‘½ä»¤æ‰§è¡Œå‹ï¼ˆæœ¬æœºè·‘è„šæœ¬ï¼‰æˆ–çº¯æ•°æ®å‹ï¼ˆåªæœ‰ Markdownï¼‰ï¼Œè¿™é‡Œå¼•å…¥äº†ä¸€ä¸ª**è¿œç¨‹ GPU æ¨ç†æœåŠ¡**ã€‚æ‰€æœ‰è®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼ˆè§†é¢‘ä¸‹è½½ã€éŸ³é¢‘æå–ã€Whisper è¯­éŸ³è½¬å†™ã€LLM æ€»ç»“ï¼‰éƒ½åœ¨ 3060 GPU æœåŠ¡å™¨ä¸Šå®Œæˆï¼ŒOpenClaw ä»…è´Ÿè´£è°ƒåº¦å’Œç»“æœè½¬å‘ã€‚

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| Skill ç±»å‹ | **API æœåŠ¡å‹**ï¼ˆHTTP è°ƒç”¨è¿œç¨‹ GPU æœåŠ¡ï¼‰ |
| æ ¸å¿ƒæ¨¡å‹ | faster-whisper large-v3 (è¯­éŸ³è½¬å†™) + Qwen3-32B (å†…å®¹æ€»ç»“) |
| ç¡¬ä»¶æ¶æ„ | RTX 3060 12GB (GPU è®¡ç®—) + Surface (OpenClaw è°ƒåº¦) + NAS (æŒä¹…å­˜å‚¨) |
| è½¬å†™é€Ÿåº¦ | çº¦ 15~20x å®æ—¶é€Ÿåº¦ï¼ˆ100s è§†é¢‘ â‰ˆ 7s è½¬å†™ï¼‰ |
| æ€»ç»“æ¨¡å‹ | Qwen3-32B (DashScope APIï¼Œ128k contextï¼Œmax_tokens=4000) |

---

**â‘¡ ä¸ºä»€ä¹ˆé€‰æ‹©æœ¬åœ° Whisper è€Œéäº‘ç«¯ ASR**

è¯­éŸ³è½¬å†™æ˜¯æ•´ä¸ªæµç¨‹çš„æ ¸å¿ƒç¯èŠ‚ã€‚å¸‚é¢ä¸Šæœ‰å¤§é‡äº‘ç«¯ ASRï¼ˆè¯­éŸ³è¯†åˆ«ï¼‰æœåŠ¡å¯é€‰ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬é€‰æ‹©åœ¨è‡ªå·±çš„ 3060 ä¸Šè·‘ Whisperï¼Ÿ

| å¯¹æ¯”ç»´åº¦ | æœ¬åœ° Whisper (faster-whisper) | äº‘ç«¯ ASR (é˜¿é‡Œäº‘/è®¯é£/Google) |
|----------|------|------|
| **æˆæœ¬** | ä¸€æ¬¡æ€§ç¡¬ä»¶æŠ•å…¥ï¼ŒRTX 3060 å·²æœ‰ï¼Œ**è¾¹é™…æˆæœ¬ä¸ºé›¶** | æŒ‰æ—¶é•¿è®¡è´¹ï¼Œé•¿æœŸä½¿ç”¨è´¹ç”¨ç´¯ç§¯ï¼ˆçº¦ Â¥1~3/åˆ†é’Ÿï¼‰ |
| **éšç§** | éŸ³é¢‘æ•°æ®**å…¨ç¨‹ä¸å‡ºå±€åŸŸç½‘**ï¼Œä¸ç»è¿‡ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ | éŸ³é¢‘ä¸Šä¼ åˆ°äº‘ç«¯å¤„ç†ï¼Œå­˜åœ¨æ•°æ®æ³„éœ²é£é™© |
| **é€Ÿåº¦** | 7 åˆ†é’Ÿè§†é¢‘çº¦ 40s è½¬å†™å®Œæˆï¼Œ**15~20x å®æ—¶é€Ÿåº¦** | å–å†³äºç½‘ç»œå’Œæ’é˜Ÿï¼Œé€šå¸¸ 1~5x å®æ—¶é€Ÿåº¦ |
| **è´¨é‡** | large-v3 æ¨¡å‹ï¼Œä¸­æ–‡å£è¯­è¯†åˆ«æ•ˆæœä¼˜ç§€ | å¤´éƒ¨å‚å•†è´¨é‡ç›¸å½“ï¼Œä½†å„æœ‰æ“…é•¿é¢†åŸŸ |
| **å¯ç”¨æ€§** | ä¸ä¾èµ–å¤–ç½‘ï¼Œå±€åŸŸç½‘å†…éšæ—¶å¯ç”¨ | ä¾èµ–äº’è”ç½‘å’Œ API ç¨³å®šæ€§ |
| **å®šåˆ¶æ€§** | å¯è°ƒæ¨¡å‹å‚æ•°ï¼ˆè¯­è¨€/beam_size/VADç­‰ï¼‰ | å‚æ•°æœ‰é™ï¼Œé»‘ç›’è°ƒç”¨ |

**æ ¸å¿ƒå†³ç­–é€»è¾‘**ï¼šå®¶é‡Œå·²ç»æœ‰ä¸€å° RTX 3060 12GB çš„å·¥ä½œç«™é—²ç½®ï¼ŒGPU ç®—åŠ›ç™½ç™½æµªè´¹ã€‚æŠŠå®ƒå˜æˆç§æœ‰çš„ AI æ¨ç†èŠ‚ç‚¹ï¼Œä¸ä»…**é›¶æˆæœ¬**è·å¾—äº†è¯­éŸ³è½¬å†™èƒ½åŠ›ï¼Œè¿˜å½»åº•è§£å†³äº†**éšç§é¡¾è™‘**â€”â€”æ‰€æœ‰éŸ³è§†é¢‘æ•°æ®å§‹ç»ˆåœ¨è‡ªå·±çš„å±€åŸŸç½‘å†…æµè½¬ï¼Œä» 3060 åˆ° NASï¼Œä¸ç»è¿‡ä»»ä½•å…¬ç½‘ã€‚è¿™ä¹Ÿæ˜¯ OpenClaw "æŠŠ AI èƒ½åŠ›ç§æœ‰åŒ–" ç†å¿µçš„ä¸€ä¸ªå…¸å‹å®è·µã€‚

> åŒæ ·çš„æ€è·¯ä¹Ÿé€‚ç”¨äºå…¶ä»– GPU æ¨ç†åœºæ™¯ï¼šå›¾åƒè¯†åˆ«ã€æœ¬åœ° LLM æ¨ç†ã€è§†é¢‘åˆ†æç­‰â€”â€”åªè¦ä½ æœ‰é—²ç½® GPUï¼Œå°±ä¸éœ€è¦ä¸ºè¿™äº›èƒ½åŠ›ä»˜è´¹ç»™äº‘å‚å•†ã€‚

---

**â‘¢ ç³»ç»Ÿæ¶æ„æ€»è§ˆ**

æ•´ä¸ªç³»ç»Ÿç”±ä¸‰å°è®¾å¤‡ååŒå®Œæˆï¼šSurface è¿è¡Œ OpenClaw è°ƒåº¦è„šæœ¬ï¼Œ3060 æ‰¿æ‹…æ‰€æœ‰ GPU è®¡ç®—å’Œ LLM è°ƒç”¨ï¼ŒNAS åšæŒä¹…åŒ–å­˜å‚¨ã€‚

```mermaid
flowchart TB
    User["ç”¨æˆ· - é£ä¹¦å‘é€Bç«™é“¾æ¥"]

    subgraph surface ["Surface - OpenClaw è°ƒåº¦å±‚"]
        direction TB
        S1["é£ä¹¦æ¸ é“æ”¶åˆ°æ¶ˆæ¯"]
        S2["OpenClaw åŒ¹é… bilibili_summary Skill"]
        S3["exec è°ƒç”¨ bilibili_summary.sh"]
        S4["è¯»å–è¿”å›çš„AIæ€»ç»“ è½¬å‘ç»™ç”¨æˆ·"]
        S1 --> S2 --> S3 --> S4
    end

    subgraph gpu ["3060 GPU æœåŠ¡å™¨ - FastAPI 8090"]
        direction TB
        G1["Step1 yt-dlp è·å–è§†é¢‘ä¿¡æ¯"]
        G2["Step2 yt-dlp ä¸‹è½½è§†é¢‘"]
        G3["Step3 ffmpeg æå–éŸ³é¢‘"]
        G4["Step4 Docker GPU Whisperè½¬å†™"]
        G5["Step5 Qwen3-32B AIæ€»ç»“"]
        G6["Step6 SSHå›ä¼ æ–‡ä»¶åˆ°NAS"]
        G1 --> G2 --> G3 --> G4 --> G5 --> G6
    end

    subgraph nas ["NAS - æŒä¹…åŒ–å­˜å‚¨"]
        N1["video.mp4 / audio.wav / transcript.txt / transcript.srt / ai_summary.txt"]
    end

    User --> S1
    S3 -- "HTTP POST url+language" --> G1
    G6 -- "JSON Response" --> S4
    G6 -- "SSH pipe cat+dd" --> N1
    S4 -- "é£ä¹¦å›å¤è§†é¢‘æ€»ç»“" --> User

    style surface fill:#e3f2fd,stroke:#1976d2,color:#000
    style gpu fill:#fce4ec,stroke:#c62828,color:#000
    style nas fill:#e8f5e9,stroke:#2e7d32,color:#000
```

---

**â‘£ 3060 GPU æœåŠ¡è¯¦è§£ (server.py)**

3060 ä¸Šè¿è¡Œä¸€ä¸ª **FastAPI å¸¸é©»æœåŠ¡**ï¼ˆsystemd å¼€æœºè‡ªå¯ï¼‰ï¼Œå¯¹å¤–æš´éœ² REST APIï¼Œæ‰¿æ‹…æ‰€æœ‰è®¡ç®—å¯†é›†å‹å·¥ä½œã€‚

**API æ¥å£å®šä¹‰**ï¼š

| æ¥å£ | æ–¹æ³• | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|------|
| `/api/transcribe` | POST | æ ¸å¿ƒå¤„ç†æ¥å£ | æ¥æ”¶ Bç«™ URLï¼Œè¿”å›è½¬å†™æ–‡æœ¬ + AI æ€»ç»“ |
| `/api/status` | GET | æœåŠ¡çŠ¶æ€ | è¿”å›è¿è¡ŒçŠ¶æ€ã€å·²å¤„ç†è§†é¢‘æ•° |
| `/api/tasks` | GET | å·²å¤„ç†åˆ—è¡¨ | è¿”å›æ‰€æœ‰å·²å¤„ç†è§†é¢‘çš„ä¿¡æ¯ |

**æ ¸å¿ƒæ¥å£ `POST /api/transcribe`**ï¼š

è¯·æ±‚ä½“ï¼š
```json
{
  "url": "https://www.bilibili.com/video/BV1WW4y147Fk",
  "language": "zh"    // zh / ja / en / auto (é»˜è®¤)
}
```

è¿”å›ä½“ï¼š
```json
{
  "success": true,
  "title": "è§†é¢‘åŸå§‹æ ‡é¢˜",
  "uploader": "UPä¸»åç§°",
  "duration": "05:30",
  "bv_id": "BV1WW4y147Fk",
  "transcript": "å®Œæ•´çš„è¯­éŸ³è½¬å†™æ–‡æœ¬...",
  "srt": "1\n00:00:00,000 --> 00:00:05,000\nå­—å¹•å†…å®¹...",
  "ai_summary": "## è§†é¢‘æ ¸å¿ƒå†…å®¹\nUPä¸»åœ¨è§†é¢‘ä¸­...\n\n## å…³é”®è¦ç‚¹\n1. ...",
  "local_path": "/home/nasuser/Openclaw-Project/1_Video_Analysis/BV1WW4y147Fk_æ ‡é¢˜/",
  "nas_path": "/home/nasuser/Openclaw-Project/1_Video_Analysis/BV1WW4y147Fk_æ ‡é¢˜/",
  "elapsed_seconds": 35.2,
  "error": ""
}
```

**6 æ­¥å¤„ç†æµæ°´çº¿**ï¼š

| æ­¥éª¤ | æ“ä½œ | å·¥å…· | äº§ç‰© | è¯´æ˜ |
|:----:|------|------|------|------|
| 1 | è·å–è§†é¢‘ä¿¡æ¯ | yt-dlp `--dump-json` | æ ‡é¢˜/UPä¸»/BVå·/æ—¶é•¿ | ä¸ä¸‹è½½ï¼Œä»…è·å–å…ƒæ•°æ® |
| 2 | ä¸‹è½½è§†é¢‘ | yt-dlp | `video.mp4` | æœ€ä½³ç”»è´¨ MP4 æ ¼å¼ |
| 3 | æå–éŸ³é¢‘ | ffmpeg | `audio.wav` | 16kHz å•å£°é“ PCMï¼ŒWhisper æ‰€éœ€æ ¼å¼ |
| 4 | è¯­éŸ³è½¬å†™ | faster-whisper (Docker GPU) | `transcript.txt` + `transcript.srt` | large-v3 æ¨¡å‹ï¼ŒRTX 3060 åŠ é€Ÿ |
| 5 | AI æ€»ç»“ | Qwen3-32B (DashScope API) | `ai_summary.txt` | ç»“æ„åŒ–æ€»ç»“ï¼Œmax_tokens=4000 |
| 6 | å›ä¼  NAS | SSH + dd pipe | NAS ä¸Šçš„å®Œæ•´å‰¯æœ¬ | ç»•è¿‡ NAS çš„ UTF-8 SCP å…¼å®¹é—®é¢˜ |

**å…³é”®è®¾è®¡å†³ç­–**ï¼š

- **FastAPI åœ¨å®¿ä¸»æœºè¿è¡Œï¼ŒWhisper åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ**ï¼šå®¿ä¸»æœºç®¡ç† yt-dlp/ffmpeg/APIï¼Œè½¬å†™é€šè¿‡ `docker compose run` è°ƒç”¨ GPU Docker å®¹å™¨ï¼ˆå¤ç”¨å·²æœ‰çš„ faster-whisper é•œåƒï¼‰ï¼Œå®ç° GPU åŠ é€Ÿ
- **Whisper æ¨¡å‹ç¼“å­˜**ï¼šlarge-v3 æ¨¡å‹é€šè¿‡ Docker Volume `model_cache` æŒä¹…åŒ–ï¼Œé¦–æ¬¡å¯åŠ¨è‡ªåŠ¨ä» ModelScope ä¸‹è½½ï¼ˆçº¦ 3GBï¼‰ï¼Œåç»­å¯åŠ¨ç§’çº§åŠ è½½
- **LLM æ€»ç»“åœ¨æœåŠ¡ç«¯å®Œæˆ**ï¼šä½¿ç”¨ Qwen3-32Bï¼ˆ128k context windowï¼‰ï¼Œæ”¯æŒæ€»ç»“æ›´é•¿çš„è½¬å†™æ–‡æœ¬ï¼ˆæˆªå–å‰ 30000 å­—ç¬¦ï¼‰ï¼Œmax_tokens=4000 äº§å‡ºæ›´è¯¦å®çš„æ€»ç»“
- **Qwen3 æ€è€ƒæ ‡ç­¾æ¸…ç†**ï¼šQwen3 æ¨¡å‹å¯èƒ½è¿”å› `<think>...</think>` åŒ…è£¹çš„æ¨ç†è¿‡ç¨‹ï¼Œserver.py ç”¨æ­£åˆ™è‡ªåŠ¨è¿‡æ»¤ï¼Œåªä¿ç•™æœ€ç»ˆæ€»ç»“
- **NAS ä¼ è¾“ç”¨ `cat | ssh dd`**ï¼šNASï¼ˆç»¿è”ï¼‰çš„ SCP/rsync ä¸å…¼å®¹ UTF-8 ä¸­æ–‡è·¯å¾„ï¼Œ`cat > file` å†™å…¥ä¸º 0 å­—èŠ‚ã€‚æœ€ç»ˆæ–¹æ¡ˆï¼š`cat æ–‡ä»¶ | ssh nas 'dd of="ç›®æ ‡è·¯å¾„" bs=65536'`

**æ–‡ä»¶åæ¸…ç†è§„åˆ™** (`sanitize_title`)ï¼š
```python
title = re.sub(r'[^\u4e00-\u9fff\w\s-]', '', title)  # åªä¿ç•™ä¸­æ–‡ã€å­—æ¯ã€æ•°å­—ã€ç©ºæ ¼ã€æ¨ªçº¿
title = re.sub(r'\s+', '_', title.strip())              # ç©ºæ ¼æ›¿æ¢ä¸ºä¸‹åˆ’çº¿
return title[:60] or "untitled"                          # æˆªæ–­60å­—ç¬¦
```

---

**â‘¤ OpenClaw å¦‚ä½•ä»‹å…¥ â€” Skill è°ƒåº¦æœºåˆ¶**

OpenClaw é€šè¿‡æ ‡å‡†çš„ Skill åŒ¹é… + exec æ‰§è¡Œæœºåˆ¶æ¥è°ƒåº¦ 3060 æœåŠ¡ã€‚æ•´ä¸ªä»‹å…¥è¿‡ç¨‹åˆ†ä¸º 3 ä¸ªé˜¶æ®µï¼š

**é˜¶æ®µ 1ï¼šSkill åŒ¹é…**

ç”¨æˆ·åœ¨é£ä¹¦å‘é€åŒ…å« Bç«™é“¾æ¥çš„æ¶ˆæ¯ï¼ˆå¦‚"å¸®æˆ‘æ€»ç»“è¿™ä¸ªè§†é¢‘ https://www.bilibili.com/video/BVxxx"ï¼‰ï¼ŒOpenClaw æ”¶åˆ°æ¶ˆæ¯åæ‰«ææ‰€æœ‰ Skill çš„ `description` å­—æ®µã€‚`bilibili_summary` çš„æè¿°è¦†ç›–äº†å¤šç§è¡¨è¿°ï¼š

```yaml
description: >
  Bç«™è§†é¢‘å¤„ç†å…¨æµç¨‹ï¼šä¸‹è½½è§†é¢‘ â†’ è¯­éŸ³è½¬æ–‡å­— â†’ Qwen3-32B æ€»ç»“ â†’ è¿”å›ç»“æœã€‚
  å½“ç”¨æˆ·å‘æ¥Bç«™é“¾æ¥ã€è¯´"å¸®æˆ‘æ€»ç»“è¿™ä¸ªè§†é¢‘"ã€"ä¸‹è½½Bç«™è§†é¢‘"ã€"è¿™ä¸ªè§†é¢‘è®²äº†ä»€ä¹ˆ"ã€
  "çœ‹çœ‹è¿™ä¸ªBç«™é“¾æ¥"ç­‰è¯·æ±‚æ—¶ä½¿ç”¨æ­¤æŠ€èƒ½ã€‚
```

åŒ¹é…æˆåŠŸåï¼ŒSKILL.md çš„å®Œæ•´å†…å®¹è¢«æ³¨å…¥ AI ä¸Šä¸‹æ–‡ã€‚

**é˜¶æ®µ 2ï¼šexec æ‰§è¡Œè„šæœ¬**

AI æ ¹æ® SKILL.md ä¸­çš„ä½¿ç”¨è¯´æ˜ï¼Œé€šè¿‡ OpenClaw çš„ `exec` å·¥å…·æ‰§è¡Œ Shell å‘½ä»¤ï¼š

```bash
bash ~/.openclaw/skills/bilibili_summary/bilibili_summary.sh "https://www.bilibili.com/video/BVxxx"
```

è„šæœ¬åšçš„äº‹æå…¶ç®€å•ï¼š
1. æ£€æŸ¥ 3060 GPU æœåŠ¡æ˜¯å¦åœ¨çº¿ï¼ˆ`GET /api/status`ï¼‰
2. è°ƒç”¨ 3060 GPU æœåŠ¡ï¼ˆ`POST /api/transcribe`ï¼Œè¶…æ—¶ 900sï¼‰
3. è§£æ JSON è¿”å›ï¼Œæ ¼å¼åŒ–è¾“å‡ºåˆ° stdout

```
ğŸ“º Bç«™è§†é¢‘æ€»ç»“
==================================================
æ ‡é¢˜: æˆ‘åˆä¹°æˆ¿äº†ï¼è¯æ˜æˆ‘ä¸æ˜¯ä½ ä¹°æˆ‘æ¨èæˆ‘ä¹°æˆ‘ä¸ä¹°çš„åšä¸»
UPä¸»: æŸUPä¸»
æ—¶é•¿: 05:30
BVå·: BV1WW4y147Fk
å¤„ç†è€—æ—¶: 35.2s

ğŸ“ å­˜å‚¨ä½ç½®:
  NAS: /home/nasuser/Openclaw-Project/1_Video_Analysis/BV1WW4y147Fk_æ ‡é¢˜/
  3060: /home/nasuser/Openclaw-Project/1_Video_Analysis/BV1WW4y147Fk_æ ‡é¢˜/
  æ–‡ä»¶: video.mp4 / audio.wav / transcript.txt / transcript.srt / ai_summary.txt

ğŸ“ AI æ€»ç»“ (Qwen3-32B):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
## è§†é¢‘æ ¸å¿ƒå†…å®¹
UPä¸»åœ¨è§†é¢‘ä¸­åˆ†äº«äº†è‡ªå·±è´­æˆ¿çš„ç»å†...

## å…³é”®è¦ç‚¹
1. æ‰€è´­æˆ¿æºä¸ºæ¸…é€€æ´‹æˆ¿ä¸‰å±…å®¤...
2. é€‰æ‹©è¯¥æˆ¿æºçš„ä¸»è¦åŸå› æ˜¯...
...

## ä¸€å¥è¯æ€»ç»“
çœŸé‡‘ç™½é“¶ä¹°ä¸‹æ°¸ä¸°æ¸…é€€æ´‹æˆ¿ä¸‰å±…ï¼...
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

**é˜¶æ®µ 3ï¼šAI è½¬å‘ç»“æœ**

OpenClaw AI è¯»å–è„šæœ¬çš„ stdout è¾“å‡ºï¼Œæ ¹æ® SKILL.md ä¸­çš„æŒ‡å¼•ï¼ˆ"æŠŠ AI æ€»ç»“å†…å®¹åŸæ ·æˆ–ç¨åŠ æ¶¦è‰²åå›å¤ç»™ç”¨æˆ·"ï¼‰ï¼Œå°†æ€»ç»“å†…å®¹åœ¨é£ä¹¦å¯¹è¯ä¸­å›å¤ç»™ç”¨æˆ·ã€‚ç”¨æˆ·å¯ä»¥ç»§ç»­è¿½é—®è§†é¢‘ç»†èŠ‚ã€‚

**è°ƒç”¨é“¾è·¯æ€»ç»“**ï¼š

```
ç”¨æˆ·(é£ä¹¦) â†’ OpenClaw(åŒ¹é…Skill) â†’ exec(bilibili_summary.sh)
  â†’ curl POST(3060 FastAPI) â†’ [yt-dlp â†’ ffmpeg â†’ whisper â†’ qwen3 â†’ NAS]
  â†’ JSON Response â†’ stdout â†’ OpenClaw AI â†’ é£ä¹¦å›å¤ç”¨æˆ·
```

---

**â‘¥ 3060 æœåŠ¡éƒ¨ç½²ä¸ç®¡ç†**

**Systemd å¼€æœºè‡ªå¯**ï¼š3060 ä¸Šçš„ FastAPI æœåŠ¡é€šè¿‡ systemd ç®¡ç†ï¼Œå¼€æœºè‡ªåŠ¨å¯åŠ¨ï¼š

```ini
# /etc/systemd/system/bilibili-transcribe.service
[Unit]
Description=Bilibili Video Transcription Service (FastAPI + Whisper GPU)
After=network.target docker.service
Wants=docker.service

[Service]
Type=simple
User=cw
WorkingDirectory=/home/nasuser/Openclaw-Project
ExecStart=/usr/bin/python3 /home/nasuser/Openclaw-Project/server.py
Restart=on-failure
RestartSec=10

[Install]
WantedBy=multi-user.target
```

**æœåŠ¡ç®¡ç†å‘½ä»¤**ï¼š

```bash
# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status bilibili-transcribe

# é‡å¯æœåŠ¡ï¼ˆæ›´æ–°ä»£ç åï¼‰
sudo systemctl restart bilibili-transcribe

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
journalctl -u bilibili-transcribe -f

# è¿œç¨‹æ£€æŸ¥ï¼ˆä» Surfaceï¼‰
curl http://192.168.1.200:8090/api/status
# â†’ {"status":"running","time":"...","output_dir":"...","videos_processed":1}

# æŸ¥çœ‹å·²å¤„ç†è§†é¢‘åˆ—è¡¨
curl http://192.168.1.200:8090/api/tasks
# â†’ {"videos":[{"name":"BV1WW4y147Fk_æ ‡é¢˜","has_video":true,"has_transcript":true,...}]}
```

**é˜²ç«å¢™é…ç½®**ï¼š3060 çš„ UFW ä»…å¯¹å±€åŸŸç½‘å¼€æ”¾ 8090 ç«¯å£ï¼š

```bash
sudo ufw allow from 192.168.1.0/24 to any port 8090 proto tcp
```

---

**â‘¦ Whisper è½¬å†™è„šæœ¬ (transcribe_single.py)**

è¿è¡Œåœ¨ 3060 çš„ Docker GPU å®¹å™¨å†…ï¼Œç”± `server.py` é€šè¿‡ `docker compose run` è°ƒç”¨ï¼š

```python
# ç”¨æ³•: python3 transcribe_single.py <éŸ³é¢‘æ–‡ä»¶> <è¾“å‡ºç›®å½•> [è¯­è¨€]
# è¯­è¨€: zh / ja / en / auto (é»˜è®¤ auto)
# è¾“å‡º: <name>.txt (çº¯æ–‡æœ¬) + <name>.srt (å¸¦æ—¶é—´æˆ³ SRT å­—å¹•)
```

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| model | `large-v3` | æœ€é«˜ç²¾åº¦æ¨¡å‹ï¼Œçº¦ 3GBï¼Œéœ€ 6GB VRAM |
| compute_type | `float16` | RTX 3060 GPU åŠç²¾åº¦æ¨ç† |
| vad_filter | `True` | VAD è¿‡æ»¤é™éŸ³æ®µï¼Œæå‡é€Ÿåº¦å’Œå‡†ç¡®æ€§ |
| hallucination_silence_threshold | `2.0` | é˜²æ­¢é•¿é™éŸ³æ®µäº§ç”Ÿå¹»è§‰æ–‡æœ¬ |
| repetition_penalty | `1.1` | æŠ‘åˆ¶é‡å¤è¾“å‡º |
| beam_size | `5` | æŸæœç´¢å®½åº¦ |

Docker å®¹å™¨æŒ‚è½½æ–¹å¼ï¼šå®¿ä¸»æœºçš„éŸ³é¢‘æ–‡ä»¶å’Œè½¬å†™è„šæœ¬é€šè¿‡ `-v` æŒ‚è½½åˆ°å®¹å™¨ `/workspace/` ç›®å½•ï¼Œè½¬å†™ç»“æœå†™å›å®¿ä¸»æœºã€‚

---

**â‘§ å­˜å‚¨ç»“æ„**

æ¯ä¸ªè§†é¢‘åœ¨ 3060 å’Œ NAS ä¸Šå„ä¿å­˜ä¸€ä»½å®Œæ•´å‰¯æœ¬ï¼š

```
/home/nasuser/Openclaw-Project/1_Video_Analysis/
â””â”€â”€ BV1WW4y147Fk_æˆ‘åˆä¹°æˆ¿äº†è¯æ˜æˆ‘ä¸æ˜¯ä½ ä¹°æˆ‘æ¨èæˆ‘ä¹°æˆ‘ä¸ä¹°çš„åšä¸»/
    â”œâ”€â”€ video.mp4          # åŸå§‹è§†é¢‘ (best quality MP4)
    â”œâ”€â”€ audio.wav          # éŸ³é¢‘ (16kHz mono PCM)
    â”œâ”€â”€ transcript.txt     # è¯­éŸ³è½¬å†™çº¯æ–‡æœ¬
    â”œâ”€â”€ transcript.srt     # å¸¦æ—¶é—´æˆ³ SRT å­—å¹•
    â””â”€â”€ ai_summary.txt     # Qwen3-32B AI æ€»ç»“
```

3060 æœ¬åœ°è·¯å¾„å’Œ NAS è·¯å¾„ç»“æ„ä¸€è‡´ï¼ŒNAS ä½œä¸ºé•¿æœŸå­˜å‚¨ï¼Œ3060 æœ¬åœ°ä½œä¸ºå¤„ç†ç¼“å­˜ã€‚

---

**â‘¨ å®é™…æµ‹è¯•æ•ˆæœ**

ä½¿ç”¨ä¸€ä¸ª 1 åˆ† 42 ç§’çš„ä¸­æ–‡æˆ¿äº§ç±»è§†é¢‘å®Œæ•´æµ‹è¯•ï¼š

| é˜¶æ®µ | è€—æ—¶ | è¯´æ˜ |
|------|------|------|
| Step 1-2: ä¸‹è½½è§†é¢‘ | ~8s | yt-dlp è·å–ä¿¡æ¯ + ä¸‹è½½ 35MB MP4 |
| Step 3: æå–éŸ³é¢‘ | ~1s | ffmpeg è½¬ WAV 16kHz |
| Step 4: Whisper è½¬å†™ | ~7.5s | Docker GPUï¼Œlarge-v3 æ¨¡å‹ |
| Step 5: Qwen3-32B æ€»ç»“ | ~10s | DashScope APIï¼Œè¯¦ç»†ç»“æ„åŒ–æ€»ç»“ |
| Step 6: å›ä¼  NAS | ~3s | SSH pipe ddï¼Œ5 ä¸ªæ–‡ä»¶ |
| **3060 æ€»è€—æ—¶** | **~30s** | æœåŠ¡ç«¯ä¸€ç«™å¼å®Œæˆ |
| OpenClaw è°ƒåº¦ + é£ä¹¦å›å¤ | ~3s | curl è°ƒç”¨ + ç»“æœè½¬å‘ |
| **ç«¯åˆ°ç«¯æ€»è®¡** | **~33s** | ç”¨æˆ·å‘é“¾æ¥åˆ°æ”¶åˆ°æ€»ç»“ |

è½¬å†™ç²¾åº¦ï¼šWhisper large-v3 å¯¹ä¸­æ–‡å£è¯­è¯†åˆ«æ•ˆæœè‰¯å¥½ï¼Œ480 å­—ç¬¦çº¯æ–‡æœ¬ + 47 æ®µ SRT å­—å¹•ï¼Œè¯­ä¹‰å®Œæ•´å¯è¯»ã€‚

AI æ€»ç»“è´¨é‡ï¼šQwen3-32B è¾“å‡ºçº¦ 800-1500 å­—ç¬¦çš„ç»“æ„åŒ–æ€»ç»“ï¼ŒåŒ…å«æ ¸å¿ƒå†…å®¹æ¦‚æ‹¬ã€å…³é”®è¦ç‚¹åˆ—è¡¨ã€å…·ä½“æ•°æ®æå–ã€ä¸€å¥è¯æ€»ç»“ã€‚

**é£ä¹¦ç«¯åˆ°ç«¯éªŒè¯**ï¼ˆ2026-02-09 22:55ï¼‰ï¼š

ä½¿ç”¨ 13 åˆ† 35 ç§’çš„æŠ€æœ¯ç±»è§†é¢‘ `BV1RkFAznESD`ï¼ˆ"Agent Skills åšçŸ¥è¯†åº“æ£€ç´¢ï¼Œèƒ½æ¯”ä¼ ç»Ÿ RAG æ•ˆæœæ›´å¥½å—ï¼Ÿ"ï¼‰å®Œæ•´éªŒè¯é£ä¹¦ â†’ OpenClaw â†’ 3060 â†’ NAS â†’ é£ä¹¦å›å¤çš„å…¨é“¾è·¯ï¼š

| é˜¶æ®µ | è€—æ—¶ | è¯´æ˜ |
|------|------|------|
| é£ä¹¦æ¶ˆæ¯ â†’ OpenClaw åŒ¹é… Skill | ~2s | AI è¯»å– SKILL.mdï¼Œæ„é€  exec å‘½ä»¤ |
| Step 1-3: ä¸‹è½½ + éŸ³é¢‘æå– | ~3s | 28.9MB MP4 + 24.9MB WAV |
| Step 4: Whisper è½¬å†™ | ~87s | 13 åˆ†é’Ÿè§†é¢‘ï¼Œ5619 å­—ç¬¦ |
| Step 5: Qwen3-32B æ€»ç»“ | ~20s | è¯¦ç»†ç»“æ„åŒ–æ€»ç»“ï¼ˆæ ¸å¿ƒæ¦‚æ‹¬+å…³é”®è¦ç‚¹+ç»“è®ºå»ºè®®ï¼‰ |
| Step 6: å›ä¼  NAS | ~5s | 5 ä¸ªæ–‡ä»¶ SSH pipe dd |
| **3060 æ€»è€—æ—¶** | **~114.6s** | å…¨éƒ¨åœ¨ 3060 å®Œæˆ |
| AI å›å¤é£ä¹¦ | ~3s | æ¶¦è‰²æ€»ç»“ + é£ä¹¦æ¨é€ |
| **ç«¯åˆ°ç«¯æ€»è®¡** | **~120s** | 13 åˆ†é’Ÿè§†é¢‘ä»é“¾æ¥åˆ°æ”¶åˆ°æ€»ç»“ |

ç»“è®ºï¼šçŸ­è§†é¢‘ï¼ˆ1-2 åˆ†é’Ÿï¼‰çº¦ 30-40 ç§’å®Œæˆï¼Œé•¿è§†é¢‘ï¼ˆ10+ åˆ†é’Ÿï¼‰çº¦ 2 åˆ†é’Ÿå®Œæˆã€‚Whisper è½¬å†™è€—æ—¶ä¸è§†é¢‘æ—¶é•¿åŸºæœ¬æˆæ­£æ¯”ï¼ˆçº¦ 15-20x å®æ—¶é€Ÿåº¦ï¼‰ã€‚

---

**â‘© SKILL.md å®šä¹‰**

```markdown
---
name: bilibili_summary
description: >
  Bç«™è§†é¢‘å¤„ç†å…¨æµç¨‹ï¼šä¸‹è½½è§†é¢‘ â†’ è¯­éŸ³è½¬æ–‡å­— â†’ Qwen3-32B æ€»ç»“ â†’ è¿”å›ç»“æœã€‚
  å½“ç”¨æˆ·å‘æ¥Bç«™é“¾æ¥ã€è¯´"å¸®æˆ‘æ€»ç»“è¿™ä¸ªè§†é¢‘"ã€"ä¸‹è½½Bç«™è§†é¢‘"ã€"è¿™ä¸ªè§†é¢‘è®²äº†ä»€ä¹ˆ"ã€
  "çœ‹çœ‹è¿™ä¸ªBç«™é“¾æ¥"ç­‰è¯·æ±‚æ—¶ä½¿ç”¨æ­¤æŠ€èƒ½ã€‚
  æ‰€æœ‰å¤„ç†éƒ½åœ¨ 3060 GPU æœåŠ¡å™¨å®Œæˆï¼ˆä¸‹è½½+è½¬å†™+LLMæ€»ç»“+å­˜å‚¨åˆ°NASï¼‰ï¼Œ
  è„šæœ¬ç›´æ¥è¾“å‡ºè§†é¢‘ä¿¡æ¯ + AIæ€»ç»“ï¼Œä½ æŠŠç»“æœè½¬å‘ç»™ç”¨æˆ·å³å¯ã€‚
metadata: { "openclaw": { "emoji": "ğŸ“º", "requires": { "bins": ["bash", "curl", "python3"] } } }
---

# Bç«™è§†é¢‘æ€»ç»“

ç”¨æˆ·ç»™ä½ ä¸€ä¸ªBç«™è§†é¢‘é“¾æ¥ï¼Œä½ éœ€è¦ï¼š
1. è°ƒç”¨è„šæœ¬ï¼ˆ3060 æœåŠ¡ä¼šè‡ªåŠ¨å®Œæˆï¼šä¸‹è½½ â†’ è½¬å†™ â†’ Qwen3-32B æ€»ç»“ â†’ å­˜ NASï¼‰
2. æŠŠè„šæœ¬è¾“å‡ºçš„ AI æ€»ç»“ç›´æ¥å›å¤ç»™ç”¨æˆ·

## ä½¿ç”¨æ–¹å¼
bash ~/.openclaw/skills/bilibili_summary/bilibili_summary.sh "Bç«™URL"
bash ~/.openclaw/skills/bilibili_summary/bilibili_summary.sh "Bç«™URL" --lang zh

## ä½ æ‹¿åˆ°è¾“å‡ºååº”è¯¥åšä»€ä¹ˆ
1. æŠŠ AI æ€»ç»“å†…å®¹åŸæ ·æˆ–ç¨åŠ æ¶¦è‰²åå›å¤ç»™ç”¨æˆ·
2. åŒ…å«è§†é¢‘åŸºæœ¬ä¿¡æ¯ï¼ˆæ ‡é¢˜ã€UPä¸»ã€æ—¶é•¿ï¼‰
3. å‘ŠçŸ¥æ–‡ä»¶å­˜å‚¨ä½ç½®
4. å¦‚æœç”¨æˆ·è¿½é—®ç»†èŠ‚ï¼Œå¯ä»¥è®©ç”¨æˆ·æŸ¥çœ‹ NAS ä¸Šçš„å®Œæ•´è½¬å†™æ–‡æœ¬
```

---

**â‘ª æ–‡ä»¶æ¸…å•ä¸éƒ¨ç½²**

```
# Surface (OpenClaw Skill ç›®å½•)
~/.openclaw/skills/bilibili_summary/
â”œâ”€â”€ SKILL.md                  # Skill è§¦å‘å®šä¹‰ + AI æŒ‡å¼•
â”œâ”€â”€ bilibili_summary.sh       # è°ƒåº¦è„šæœ¬ (curl â†’ 3060 API â†’ æ ¼å¼åŒ–è¾“å‡º)
â”œâ”€â”€ transcribe_single.py      # Whisper è½¬å†™è„šæœ¬ (å¼€å‘å¤‡ä»½ï¼Œéƒ¨ç½²åˆ° 3060)
â””â”€â”€ server.py                 # GPU æœåŠ¡ç«¯ä»£ç  (å¼€å‘å¤‡ä»½ï¼Œéƒ¨ç½²åˆ° 3060)

# 3060 GPU æœåŠ¡å™¨
/home/nasuser/Openclaw-Project/
â”œâ”€â”€ server.py                 # FastAPI æœåŠ¡ä¸»ç¨‹åº (systemd ç®¡ç†)
â”œâ”€â”€ transcribe_single.py      # Whisper è½¬å†™è„šæœ¬ (Docker å®¹å™¨å†…è¿è¡Œ)
â”œâ”€â”€ start_service.sh          # æ‰‹åŠ¨å¯åŠ¨è„šæœ¬ (å¤‡ç”¨)
â”œâ”€â”€ logs/
â”‚   â””â”€â”€ server.log            # æœåŠ¡è¿è¡Œæ—¥å¿—
â””â”€â”€ 1_Video_Analysis/         # è§†é¢‘å¤„ç†è¾“å‡ºç›®å½•
    â””â”€â”€ BVxxx_æ ‡é¢˜/           # æ¯ä¸ªè§†é¢‘ä¸€ä¸ªå­ç›®å½•

# NAS (æŒä¹…åŒ–å­˜å‚¨)
/home/nasuser/Openclaw-Project/
â””â”€â”€ 1_Video_Analysis/         # ä¸ 3060 åŒæ„çš„é•œåƒç›®å½•
    â””â”€â”€ BVxxx_æ ‡é¢˜/
```

**ä¾èµ–å®‰è£…ï¼ˆ3060 ä¸€æ¬¡æ€§é…ç½®ï¼‰**ï¼š

```bash
# Python åŒ…
pip3 install --break-system-packages yt-dlp fastapi uvicorn python-multipart pyyaml

# ç³»ç»ŸåŒ…
sudo apt install -y ffmpeg

# é˜²ç«å¢™ï¼ˆä»…å±€åŸŸç½‘å¯è®¿é—®ï¼‰
sudo ufw allow from 192.168.1.0/24 to any port 8090 proto tcp

# Systemd å¼€æœºè‡ªå¯
sudo systemctl enable bilibili-transcribe
```

---

**â‘« è¸©å‘è®°å½•**

| é—®é¢˜ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| NAS SCP ä¼ è¾“ä¸­æ–‡è·¯å¾„å¤±è´¥ | ç»¿è” NAS çš„ SCP å®ç°ä¸å…¼å®¹ UTF-8 ç¼–ç è·¯å¾„ | æ”¹ç”¨ `cat æ–‡ä»¶ \| ssh nas 'dd of="è·¯å¾„" bs=65536'` |
| NAS `cat > file` å†™å…¥ 0 å­—èŠ‚ | NAS çš„ BusyBox shell ç®¡é“é‡å®šå‘è¡Œä¸ºå¼‚å¸¸ | æ”¹ç”¨ `dd of=file` æ›¿ä»£ `cat > file` |
| 3060 æœåŠ¡å¤–éƒ¨ä¸å¯è¾¾ | UFW é˜²ç«å¢™æœªæ”¾è¡Œ 8090 ç«¯å£ | `ufw allow from 192.168.1.0/24 to any port 8090 proto tcp` |
| è§†é¢‘æ ‡é¢˜ç‰¹æ®Šå­—ç¬¦å¯¼è‡´è·¯å¾„å¼‚å¸¸ | Bç«™æ ‡é¢˜å« `ã€ã€‘ï¼ï¼Ÿ` ç­‰å­—ç¬¦ | `sanitize_title()` æ­£åˆ™æ¸…æ´—ï¼Œåªä¿ç•™ä¸­æ–‡+å­—æ¯+æ•°å­— |
| pip3 å®‰è£…æŠ¥é”™ | Ubuntu 24.04 PEP 668 é™åˆ¶ | æ·»åŠ  `--break-system-packages` å‚æ•° |
| Qwen3 è¿”å›å« `<think>` æ ‡ç­¾ | qwen3 ç³»åˆ—æ¨¡å‹çš„æ€ç»´é“¾è¾“å‡º | æ­£åˆ™ `re.sub(r"<think>[\s\S]*?</think>", "")` è¿‡æ»¤ |

> **è¦ç‚¹**ï¼šè¿™æ˜¯ç¬¬ä¸€ä¸ª **API æœåŠ¡å‹** Skillï¼Œå®ç°äº† **ä¸‰æœºååŒçš„åˆ†å¸ƒå¼æ¶æ„**ï¼šSurface åšè½»é‡è°ƒåº¦ï¼ˆOpenClaw + bash è„šæœ¬ï¼‰ï¼Œ3060 åšé‡è®¡ç®—ï¼ˆGPU è½¬å†™ + LLM æ€»ç»“ï¼‰ï¼ŒNAS åšæŒä¹…å­˜å‚¨ã€‚OpenClaw çš„ä»‹å…¥æ–¹å¼ä¸å…¶ä»– Skill å®Œå…¨ä¸€è‡´ï¼ˆdescription åŒ¹é… â†’ SKILL.md æ³¨å…¥ â†’ exec æ‰§è¡Œè„šæœ¬ï¼‰ï¼Œä½†è„šæœ¬å†…éƒ¨é€šè¿‡ HTTP API å°†å·¥ä½œå¸è½½åˆ°äº†è¿œç¨‹ GPU æœåŠ¡å™¨ã€‚è¿™ç§æ¨¡å¼å¯ä»¥æ‰©å±•åˆ°ä»»ä½•éœ€è¦ GPU çš„ AI åœºæ™¯ï¼ˆå¦‚å›¾åƒè¯†åˆ«ã€è§†é¢‘ç”Ÿæˆç­‰ï¼‰ã€‚

---

### 2.7 qwen_usage Skill

**â‘  ç›®æ ‡ä¸æ€è·¯**

**ç›®æ ‡**ï¼šè®© AI èƒ½æŸ¥è¯¢è‡ªå·±æ¶ˆè€—äº†å¤šå°‘ API è´¹ç”¨â€”â€”æŒ‰å¤©ã€æŒ‰æ¨¡å‹ã€æŒ‰ token ç±»å‹çš„å®Œæ•´è´¹ç”¨æ˜ç»†ã€‚

**ä¸å…¶ä»– Skill çš„åŒºåˆ«**ï¼šè¿™æ˜¯ä¸€ä¸ª**äº‘ API æŸ¥è¯¢å‹ Skill** â€” ä¸æ‰§è¡Œæœ¬æœºå‘½ä»¤ï¼Œä¹Ÿä¸è°ƒç”¨è¿œç¨‹ GPUï¼Œè€Œæ˜¯é€šè¿‡é˜¿é‡Œäº‘ SDK è°ƒç”¨äº‘å‚å•†çš„ç®¡ç† APIï¼ˆBSS OpenAPIï¼‰è·å–è´¦å•æ•°æ®ã€‚éœ€è¦é¢å¤–çš„ RAM AccessKey å‡­è¯ã€‚

> DashScope æœ¬èº«æ²¡æœ‰ç”¨é‡æŸ¥è¯¢ APIï¼Œéœ€è¦é€šè¿‡é˜¿é‡Œäº‘ç»Ÿä¸€çš„è´¹ç”¨ä¸­å¿ƒæŸ¥è¯¢ã€‚

**â‘¡ åˆ›å»ºç›®å½•ä¸è„šæœ¬**

```bash
mkdir -p ~/.openclaw/skills/qwen_usage
pip install alibabacloud-bssopenapi20171214 alibabacloud-tea-openapi
```

**query_usage.py** â€” æ ¸å¿ƒæŸ¥è¯¢é€»è¾‘ï¼ˆç²¾ç®€ï¼‰ï¼š

```python
# é˜¿é‡Œäº‘ BSS OpenAPI æŸ¥è¯¢ DashScope è´¹ç”¨
# å…³é”®å‘ï¼šProductCode ä¸æ˜¯ "dashscope" è€Œæ˜¯ "sfm" (å¤§æ¨¡å‹æœåŠ¡å¹³å°ç™¾ç‚¼)

# 1. æœˆåº¦æ€»è´¹ç”¨
overview_req = bss_models.QueryBillOverviewRequest(
    billing_cycle="2026-02", product_code="sfm"
)

# 2. é€å¤©å®ä¾‹çº§æ˜ç»†ï¼ˆå¿…é¡»æŒ‡å®š BillingDateï¼‰
for day in range(1, today + 1):
    bill_req = bss_models.DescribeInstanceBillRequest(
        billing_cycle="2026-02", billing_date=f"2026-02-{day:02d}",
        product_code="sfm", granularity="DAILY", max_results=300
    )
    # instance_id æ ¼å¼: "è´¦æˆ·ID;å®ä¾‹ID;æ¨¡å‹å;tokenç±»å‹;;0"
    # ä¾‹: "3337639;llm-xxx;qwen3-14b;thinking_input_token;;0"
    # è§£æå¯å¾—ï¼šæŒ‰æ¨¡å‹ + æŒ‰ token ç±»å‹çš„è´¹ç”¨æ˜ç»†
```

**query_usage.sh** â€” åŒ…è£…è„šæœ¬ï¼šåŠ è½½ `~/.openclaw/env` ç¯å¢ƒå˜é‡ + é¦–æ¬¡è‡ªåŠ¨å®‰è£…ä¾èµ–ã€‚

**â‘¢ ç¼–å†™ SKILL.md**

```markdown
---
name: qwen_usage
description: æŸ¥è¯¢ Qwen API (DashScope) çš„è°ƒç”¨è´¹ç”¨å’Œç”¨é‡ç»Ÿè®¡ã€‚åŒ…æ‹¬ä»Šæ—¥è´¹ç”¨ã€æœ¬æœˆç´¯è®¡ã€
             æ¯æ—¥æ˜ç»†ã€æ—¥å‡è´¹ç”¨å’Œæœˆåº¦é¢„ä¼°ã€‚å½“ç”¨æˆ·è¯¢é—®"API èŠ±äº†å¤šå°‘é’±"ã€"ä»Šå¤©ç”¨äº†å¤šå°‘
             token"ã€"Qwen è´¹ç”¨"ã€"DashScope ç”¨é‡"ã€"æœ¬æœˆå¼€é”€"ç­‰é—®é¢˜æ—¶ä½¿ç”¨æ­¤æŠ€èƒ½ã€‚
metadata: { "openclaw": { "emoji": "ğŸ’°", "requires": { "bins": ["python3"] } } }
---

# Qwen API ç”¨é‡æŸ¥è¯¢

## æŸ¥è¯¢ç”¨é‡
è¿è¡Œï¼š`bash ~/.openclaw/skills/qwen_usage/query_usage.sh`

## æŸ¥è¯¢æŒ‡å®šæœˆä»½
è¿è¡Œï¼š`bash ~/.openclaw/skills/qwen_usage/query_usage.sh 2026-01`

## ç¯å¢ƒè¦æ±‚
éœ€è¦é˜¿é‡Œäº‘ RAM AccessKeyï¼ˆé DashScope API Keyï¼‰ï¼Œé…ç½®åœ¨ ~/.openclaw/envï¼š
- ALIBABA_CLOUD_ACCESS_KEY_ID
- ALIBABA_CLOUD_ACCESS_KEY_SECRET
æƒé™ï¼šAliyunBSSReadOnlyAccessï¼ˆåªè¯»è´¦å•ï¼‰
```

**â‘£ å…³é”®è®¾è®¡**

- **äº§å“ä»£ç å‘**ï¼šDashScope åœ¨é˜¿é‡Œäº‘è®¡è´¹ç³»ç»Ÿä¸­çš„ ProductCode **ä¸æ˜¯** `dashscope`ï¼Œè€Œæ˜¯ **`sfm`**ï¼ˆå¤§æ¨¡å‹æœåŠ¡å¹³å°ç™¾ç‚¼ï¼‰ï¼Œç”¨é”™åˆ™è¿”å›ç©ºç»“æœ
- **é€å¤©æŸ¥è¯¢**ï¼š`DescribeInstanceBill` ä½¿ç”¨ `Granularity=DAILY` æ—¶**å¿…é¡»æŒ‡å®š `BillingDate`**ï¼Œå› æ­¤è„šæœ¬éå†å½“æœˆæ¯ä¸€å¤©åˆ†åˆ«æŸ¥è¯¢
- **instance_id è§£æ**ï¼šæ¯æ¡è´¦å•çš„ `instance_id` å­—æ®µæ ¼å¼ä¸º `è´¦æˆ·ID;å®ä¾‹ID;æ¨¡å‹å;tokenç±»å‹;;åºå·`ï¼Œè§£æåå¯è¾“å‡ºæŒ‰æ¨¡å‹ + token ç±»å‹çš„è´¹ç”¨æ˜ç»†
- **åŒ Key ä½“ç³»**ï¼šDashScope API Keyï¼ˆ`sk-xxx`ï¼Œè°ƒç”¨æ¨¡å‹æ¨ç†ï¼‰å’Œ é˜¿é‡Œäº‘ AccessKeyï¼ˆ`LTAI5txxx`ï¼Œè°ƒç”¨ç®¡ç† APIï¼‰æ˜¯å®Œå…¨ç‹¬ç«‹çš„ä¸¤å¥—å‡­è¯
- **æ•°æ®å»¶è¿Ÿ**ï¼šè´¦å•æœ‰çº¦ 24 å°æ—¶å»¶è¿Ÿï¼Œä»Šå¤©çš„è´¹ç”¨æ˜å¤©æ‰å‡º

**â‘¤ éªŒè¯æ•ˆæœ**

```bash
source ~/.openclaw/env && bash ~/.openclaw/skills/qwen_usage/query_usage.sh
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ğŸ’° Qwen API ç”¨é‡æŠ¥å‘Š (å¤§æ¨¡å‹æœåŠ¡å¹³å°ç™¾ç‚¼)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“… æŸ¥è¯¢å‘¨æœŸ: 2026-02
ğŸ’° æœ¬æœˆç´¯è®¡è´¹ç”¨: Â¥8.8000

ğŸ“ˆ æ¯æ—¥æ˜ç»†:
  2026-02-01  Â¥0.3831
  2026-02-09  Â¥6.8840

ğŸ¤– æ¨¡å‹è´¹ç”¨æ˜ç»†:
  ğŸ“Œ qwen3-14b    Â¥6.1034  (69.4%)   â† æ€è€ƒ token å å¤§å¤´
  ğŸ“Œ qwen-plus    Â¥1.6694  (19.0%)

ğŸ“Š ç»Ÿè®¡:  æ—¥å‡ Â¥2.14  æœ¬æœˆé¢„ä¼° Â¥59.84
```

**â‘¥ æ–‡ä»¶æ¸…å•ä¸æ¶æ„**

```
~/.openclaw/skills/qwen_usage/
â”œâ”€â”€ SKILL.md             # Skill å®šä¹‰ï¼ˆè§¦å‘æ¡ä»¶ + ä½¿ç”¨è¯´æ˜ï¼‰
â”œâ”€â”€ query_usage.py       # Python æŸ¥è¯¢è„šæœ¬ï¼ˆalibabacloud SDKï¼‰
â””â”€â”€ query_usage.sh       # åŒ…è£…è„šæœ¬ï¼ˆåŠ è½½ env + è‡ªåŠ¨å®‰è£…ä¾èµ–ï¼‰
```

```mermaid
flowchart LR
    A["ğŸ§‘ ç”¨æˆ·é—®ï¼šAPI èŠ±äº†å¤šå°‘é’±ï¼Ÿ"] --> B["ğŸ” OpenClaw åŒ¹é…\nqwen_usage Skill"]
    B --> C["âš¡ exec è°ƒç”¨\nquery_usage.sh"]
    C --> D["â˜ï¸ é˜¿é‡Œäº‘ BSS API\nbusiness.aliyuncs.com"]
    D --> E["ğŸ“Š è¿”å›è´¹ç”¨æŠ¥å‘Š\næŒ‰å¤©/æŒ‰æ¨¡å‹æ˜ç»†"]

    style A fill:#e3f2fd,stroke:#1976d2,color:#000
    style B fill:#fff3e0,stroke:#f57c00,color:#000
    style C fill:#f3e5f5,stroke:#7b1fa2,color:#000
    style D fill:#fce4ec,stroke:#c62828,color:#000
    style E fill:#e8f5e9,stroke:#2e7d32,color:#000
```

> **è¦ç‚¹**ï¼šè¿™æ˜¯ç¬¬ä¸€ä¸ª **äº‘ API æŸ¥è¯¢å‹** Skillã€‚åŒæ ·çš„æ¨¡å¼å¯æ‰©å±•åˆ°ï¼šæŸ¥è¯¢å…¶ä»–äº‘æœåŠ¡è´¹ç”¨ã€ç›‘æ§ API é…é¢ç­‰åœºæ™¯ã€‚æ ¸å¿ƒè¸©å‘ï¼š**ProductCode æ˜¯ `sfm` ä¸æ˜¯ `dashscope`**ã€‚

---

## 3. æ›´å¤š Skill æ€è·¯

åŸºäºåŒæ ·çš„æ¨¡å¼ï¼Œå¯ä»¥ç»§ç»­å¼€å‘ï¼š

| Skill | ç±»å‹ | åŠŸèƒ½ | å®ç°æ€è·¯ |
|-------|------|------|----------|
| `stock_monitor` | å®šæ—¶æ¨é€ | è‚¡ç¥¨/åŸºé‡‘ç›‘æ§ | è¡Œæƒ… API + é£ä¹¦æ¨é€ |
| ~~`file_search`~~ â†’ **`nas_search`** | å‘½ä»¤æ‰§è¡Œ | NAS æ–‡ä»¶æœç´¢ | âœ… å·²å®ç°ï¼ˆSSH + findï¼‰ |
| ~~`video_summary`~~ â†’ **`bilibili_summary`** | API æœåŠ¡å‹ | Bç«™è§†é¢‘è½¬å†™ + æ€»ç»“ | âœ… å·²å®ç°ï¼ˆ3060 GPU + whisper + Qwen3-32Bï¼‰ |
| **`qwen_usage`** | äº‘ API æŸ¥è¯¢ | Qwen API è´¹ç”¨ç›‘æ§ | âœ… å·²å®ç°ï¼ˆé˜¿é‡Œäº‘ BSS OpenAPI + RAM AccessKeyï¼‰ |
| `docker_manager` | å‘½ä»¤æ‰§è¡Œ | Docker ç®¡ç† | `docker ps` / `docker logs` |
| `smart_home` | å‘½ä»¤æ‰§è¡Œ | æ™ºèƒ½å®¶å±…æ§åˆ¶ | Home Assistant API |
| `faq` | çº¯æ•°æ® | å¸¸è§é—®é¢˜è§£ç­” | SKILL.md å†™å…¥ Q&A |

> **Skill çš„ç²¾é«“**ï¼šMarkdown å®šä¹‰è§¦å‘æ¡ä»¶ï¼ŒShell è„šæœ¬å®ç°é€»è¾‘ï¼ˆæˆ–ç›´æ¥ç”¨ Markdown æ³¨å…¥çŸ¥è¯†ï¼‰ï¼ŒAI ä½œä¸ºä¸­é—´è°ƒåº¦å±‚ã€‚å·²å®ç°äº”ç§ Skill ç±»å‹ï¼š**å‘½ä»¤æ‰§è¡Œå‹**ï¼ˆæœ¬æœº/SSHï¼‰ã€**å®šæ—¶æ¨é€å‹**ï¼ˆcron + Webhookï¼‰ã€**çº¯æ•°æ®å‹**ï¼ˆMarkdown çŸ¥è¯†æ³¨å…¥ï¼‰ã€**API æœåŠ¡å‹**ï¼ˆGPU æ¨ç†å¸è½½ï¼‰ã€**äº‘ API æŸ¥è¯¢å‹**ï¼ˆäº‘å‚å•† SDK è°ƒç”¨ï¼‰ã€‚æŠ€æœ¯æ ˆï¼šbash + curl + python3 + FastAPI + Docker + systemd + alibabacloud SDKã€‚
